"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkjs_webpack_c3_client_node"] = self["webpackChunkjs_webpack_c3_client_node"] || []).push([["node_modules_c3_ui_C3TestSuiteReporter_ts_c3ui_core"],{

/***/ "./node_modules/@c3/ui/C3TestSuiteReporter.ts_c3ui_core":
/*!****************************************************!*\
  !*** ./node_modules/@c3/ui/C3TestSuiteReporter.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ C3TestSuiteReporter)\n/* harmony export */ });\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/*\n * Copyright 2009-2023 C3 AI (www.c3.ai). All Rights Reserved.\n * This material, including without limitation any software, is the confidential trade secret and proprietary\n * information of C3 and its licensors. Reproduction, use and/or distribution of this material in any form is\n * strictly prohibited except as set forth in a written license agreement with C3 and/or its authorized distributors.\n * This material may be covered by one or more patents or pending patent applications.\n */\n\n/**\n * Custom Jasmine reporter for generating C3 `TestSuite` (Type) records\n * from the Jasmine test results.\n */\nclass C3TestSuiteReporter {\n  constructor(options) {\n    _defineProperty(this, \"timers\", void 0);\n    _defineProperty(this, \"Timer\", void 0);\n    this.timers = {};\n    this.Timer = options.Timer;\n    this.generateC3TestSuite = this.generateC3TestSuite.bind(this);\n  }\n  suiteStarted(suite) {\n    const timer = new this.Timer();\n    this.timers[suite.fullName] = timer;\n    timer.start();\n  }\n  suiteDone(suite) {\n    const timer = this.timers[suite.fullName];\n    timer.time = (timer.elapsed() || 0) / 1000;\n  }\n  specStarted(spec) {\n    const timer = new this.Timer();\n    this.timers[spec.fullName] = timer;\n    timer.start();\n  }\n  specDone(spec) {\n    const timer = this.timers[spec.fullName];\n    timer.time = (timer.elapsed() || 0) / 1000;\n  }\n  generateC3TestSuite() {\n    const lineOffset = 0;\n    const jsApiReporter = window.jsApiReporter;\n    const suiteTime = (jsApiReporter.executionTime() || 0) / 1000;\n    const specs = jsApiReporter.specs();\n    const suites = jsApiReporter.suites();\n    const timers = this.timers;\n    const topLevelSuiteNames = [];\n    for (const key in suites) {\n      const suite = suites[key];\n      if (suite.description != null && suite.description == suite.fullName) {\n        topLevelSuiteNames.push(suite.fullName);\n      }\n    }\n    function extractClassname(obj) {\n      let classname = null;\n      for (let i = 0; i < topLevelSuiteNames.length; i++) {\n        const topLevelSuiteName = topLevelSuiteNames[i];\n        if (obj.fullName.indexOf(topLevelSuiteName) === 0) {\n          classname = topLevelSuiteName;\n          break;\n        }\n      }\n      return classname;\n    }\n    function extractName(obj) {\n      let name = obj.fullName;\n\n      // Remove the suite name from the spec name, because that will be reported separately\n      const classname = extractClassname(obj);\n      if (name.length > classname.length) {\n        name = name.substring(classname.length + 1);\n      }\n      return name.replace(/\\s/g, '').length > 0 ? name : '<empty name>';\n    }\n    function formatLineNumber(lineNumber) {\n      // Maybe this is wrong\n      return '\\n    at line ' + lineNumber;\n    }\n    function extractFailures(obj, failureType) {\n      let failureMsg = '';\n      obj.failedExpectations.forEach(function (failedExpectation) {\n        if (failureMsg.length > 0) failureMsg += '\\n\\n';\n\n        /**\n         * Limit the length of the msg and stack to prevent excessive\n         * regex processing.\n         */\n        const msg = (failedExpectation.message || '').substring(0, 10240);\n        const stack = (failedExpectation.stack || '').substring(0, 10240);\n        let formatted = msg.replace(/\\n/g, '\\\\n');\n        let match;\n        let regexStr = '( +from .+, line \\\\d+\\\\n(.*\\\\n){4})';\n        const codeBlockRegex = / in TestRunnerJs_jasmineTest\\.js(#\\d+\\(eval\\)#(\\d+))?.*\\(line (\\d+)\\)/;\n        let codeBlocks;\n        const codeBlockResult = codeBlockRegex.exec(msg);\n        if ((match = msg.match(new RegExp('(org.mozilla.javascript.\\\\w+: .*) \\\\(.+\\\\.\\\\w+#\\\\d+.+\\\\)(.|\\\\n|\\\\r)+' + regexStr))) || (match = msg.match(new RegExp('(\\\\w*Error: .*) \\\\(.+\\\\.\\\\w+#\\\\d+.+\\\\)(.|\\\\n|\\\\r)+' + regexStr))) || (match = msg.match(new RegExp('wrapped (\\\\w*Exception: .*)(.|\\\\n|\\\\r)+' + regexStr)))) {\n          /*\n           * Reports thrown error from Java/JavaScript; trim off the cruft and only have the relevant stack trace\n           * e.g. c3.love.exceptions.C3RuntimeException: wrapped org.mozilla.javascript.EcmaError: TypeError: Cannot call method \"myFn\" of undefined (TestRunnerJs_jasmineTest.js#46(eval)#18(Function)#3)\n           * or JavaException: c3.love.exceptions.C3RuntimeException: wrapped org.mozilla.javascript.JavaScriptException: Error: this is a JS error (TestRunnerTestType_failWithThrownJsError.js#30)\n           */\n          codeBlocks = msg.match(new RegExp(regexStr, 'g'));\n          formatted = match[1] + '\\n' + codeBlocks[codeBlocks[0].indexOf('env_server.js') > 0 ? 2 : 0] + '\\nFull error\\n' + msg;\n        } else if (codeBlockResult && codeBlockResult.index >= 0) {\n          formatted = msg.substring(0, codeBlockResult.index);\n          const regex = new RegExp(regexStr);\n          codeBlocks = regex.exec(msg);\n          if (codeBlocks && codeBlocks.index > -1) {\n            formatted = msg.substring(0, codeBlocks.index);\n            formatted += msg.substring(0, / in TestRunnerJs_jasmineTest\\.js/.exec(msg).index);\n          }\n\n          /*\n           * CodeBlockResult[2] is for line in the eval, codeBlockResult[3] for \"(line ...)\"\n           * Skywalker's throwError function throws off the line number reporting\n           */\n          formatted += '\\nFull error\\n' + msg;\n        } else if ((match = stack.match(new RegExp(regexStr = 'at .+ \\\\(<\\\\w+>:(\\\\d+)(:\\\\d+)?\\\\)', 'g'))) || (match = stack.match(new RegExp(regexStr = 'at TestRunnerJs\\\\_jasmineTest\\\\.js[^:]*:(\\\\d+)', 'g')))) {\n          /*\n           * If Jasmine provides a browser/rhino stack, parse that and extract the failing lines in `tests`\n           * and append them to the message, e.g\n           *\n           * Expected 'expect in beforeEach()' to be null.\n           *     at <Jasmine>\n           *    at TestRunnerJs_jasmineTest.js#46(eval):10\n           *     at <Jasmine>\n           *    at jasmine/jasmine-boot.js:34 (anonymous)\n           */\n          match.forEach(function (curCall) {\n            const curMatch = curCall.match(new RegExp(regexStr));\n            formatted += formatLineNumber(Number(curMatch[1]) - lineOffset);\n          });\n        }\n        failureMsg += formatted;\n      });\n      return {\n        message: failureMsg,\n        type_: failureType\n      };\n    }\n    function generateTestCase(obj) {\n      return {\n        classname: extractClassname(obj),\n        name: extractName(obj),\n        time: timers[obj.fullName].time || 0\n      };\n    }\n    const tcArr = [];\n    let skipped = 0;\n    let failed = 0;\n    let errors = 0;\n\n    // First report failures at the describe/before*/after* level\n    for (const key in suites) {\n      const suite = suites[key];\n      if (suite.status == 'failed') {\n        const tc = generateTestCase(suite);\n        tc.failure = extractFailures(suite, 'suite failure');\n        tcArr.push(tc);\n        failed++;\n      }\n    }\n\n    // Next report failures in the it blocks\n    specs.forEach(function (spec) {\n      const tc = generateTestCase(spec);\n      switch (spec.status) {\n        case 'passed':\n          break;\n        case 'failed':\n          tc.failure = extractFailures(spec, 'spec failure');\n          failed++;\n          break;\n        case 'pending':\n        case 'excluded':\n          tc.skipped = {\n            message: spec.pendingReason != '' ? spec.pendingReason : spec.status,\n            type_: spec.status\n          };\n          skipped++;\n          break;\n        default:\n          tc.error = {\n            message: 'unknown spec status: ' + spec.status,\n            type_: 'error'\n          };\n          errors++;\n          break;\n      }\n      tcArr.push(tc);\n    });\n    if (tcArr.length == 0) {\n      errors++;\n      const suiteNames = topLevelSuiteNames.join(', ');\n      tcArr.push({\n        classname: suiteNames,\n        name: suiteNames,\n        time: suiteTime,\n        error: {\n          message: 'no specs ran',\n          type_: 'error'\n        }\n      });\n    }\n    return {\n      hostname: 'localhost',\n      // For now\n      time: suiteTime,\n      disabled: 0,\n      warnings: 0,\n      errors: errors,\n      failures: failed,\n      skipped: skipped,\n      tests: tcArr.length,\n      testcase: tcArr\n    };\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGMzL3VpL0MzVGVzdFN1aXRlUmVwb3J0ZXIudHNfYzN1aV9jb3JlIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNlLE1BQU1BLG1CQUFtQixDQUFtQztFQUt6RUMsV0FBV0EsQ0FBQ0MsT0FBaUMsRUFBRTtJQUFBQyxlQUFBO0lBQUFBLGVBQUE7SUFDN0MsSUFBSSxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ2hCLElBQUksQ0FBQ0MsS0FBSyxHQUFHSCxPQUFPLENBQUNHLEtBQUs7SUFFMUIsSUFBSSxDQUFDQyxtQkFBbUIsR0FBRyxJQUFJLENBQUNBLG1CQUFtQixDQUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDO0VBQ2hFO0VBRUFDLFlBQVlBLENBQUNDLEtBQTBCLEVBQVE7SUFDN0MsTUFBTUMsS0FBb0IsR0FBRyxJQUFJLElBQUksQ0FBQ0wsS0FBSyxDQUFDLENBQUM7SUFDN0MsSUFBSSxDQUFDRCxNQUFNLENBQUNLLEtBQUssQ0FBQ0UsUUFBUSxDQUFDLEdBQUdELEtBQUs7SUFDbkNBLEtBQUssQ0FBQ0UsS0FBSyxDQUFDLENBQUM7RUFDZjtFQUVBQyxTQUFTQSxDQUFDSixLQUEwQixFQUFRO0lBQzFDLE1BQU1DLEtBQUssR0FBRyxJQUFJLENBQUNOLE1BQU0sQ0FBQ0ssS0FBSyxDQUFDRSxRQUFRLENBQUM7SUFDekNELEtBQUssQ0FBQ0ksSUFBSSxHQUFHLENBQUNKLEtBQUssQ0FBQ0ssT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSTtFQUM1QztFQUVBQyxXQUFXQSxDQUFDQyxJQUF3QixFQUFRO0lBQzFDLE1BQU1QLEtBQW9CLEdBQUcsSUFBSSxJQUFJLENBQUNMLEtBQUssQ0FBQyxDQUFDO0lBQzdDLElBQUksQ0FBQ0QsTUFBTSxDQUFDYSxJQUFJLENBQUNOLFFBQVEsQ0FBQyxHQUFHRCxLQUFLO0lBQ2xDQSxL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UUFDVDtNQUNGLENBQUMsQ0FBQztJQUNKO0lBRUEsT0FBTztNQUNMYSxRQUFRLEVBQUUsV0FBVztNQUFFO01BQ3ZCaEUsSUFBSSxFQUFFUSxTQUFTO01BQ2Z5RCxRQUFRLEVBQUUsQ0FBQztNQUNYQyxRQUFRLEVBQUUsQ0FBQztNQUNYVixNQUFNLEVBQUVBLE1BQU07TUFDZFcsUUFBUSxFQUFFWixNQUFNO01BQ2hCRCxPQUFPLEVBQUVBLE9BQU87TUFDaEJjLEtBQUssRUFBRWYsS0FBSyxDQUFDakMsTUFBTTtNQUNuQmlELFFBQVEsRUFBRWhCO0lBQ1osQ0FBQztFQUNIO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jM3VpX2NvcmUvLi9ub2RlX21vZHVsZXMvQGMzL3VpL0MzVGVzdFN1aXRlUmVwb3J0ZXIudHM/M2Q1MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IDIwMDktMjAyMyBDMyBBSSAod3d3LmMzLmFpKS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFRoaXMgbWF0ZXJpYWwsIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gYW55IHNvZnR3YXJlLCBpcyB0aGUgY29uZmlkZW50aWFsIHRyYWRlIHNlY3JldCBhbmQgcHJvcHJpZXRhcnlcbiAqIGluZm9ybWF0aW9uIG9mIEMzIGFuZCBpdHMgbGljZW5zb3JzLiBSZXByb2R1Y3Rpb24sIHVzZSBhbmQvb3IgZGlzdHJpYnV0aW9uIG9mIHRoaXMgbWF0ZXJpYWwgaW4gYW55IGZvcm0gaXNcbiAqIHN0cmljdGx5IHByb2hpYml0ZWQgZXhjZXB0IGFzIHNldCBmb3J0aCBpbiBhIHdyaXR0ZW4gbGljZW5zZSBhZ3JlZW1lbnQgd2l0aCBDMyBhbmQvb3IgaXRzIGF1dGhvcml6ZWQgZGlzdHJpYnV0b3JzLlxuICogVGhpcyBtYXRlcmlhbCBtYXkgYmUgY292ZXJlZCBieSBvbmUgb3IgbW9yZSBwYXRlbnRzIG9yIHBlbmRpbmcgcGF0ZW50IGFwcGxpY2F0aW9ucy5cbiAqL1xuXG5pbXBvcnQgeyBUZXN0Q2FzZSwgVGVzdFN1aXRlLCBUZXN0UHJvYmxlbSB9IGZyb20gJ0BjMy90eXBlcyc7XG5cbnR5cGUgQ2xpZW50R2VuZXJhdGVkVGVzdFN1aXRlID0gT21pdDxUZXN0U3VpdGUsICduYW1lJyB8ICd0aW1lc3RhbXAnPjtcblxuLyoqXG4gKiBDdXN0b20gSmFzbWluZSByZXBvcnRlciBmb3IgZ2VuZXJhdGluZyBDMyBgVGVzdFN1aXRlYCAoVHlwZSkgcmVjb3Jkc1xuICogZnJvbSB0aGUgSmFzbWluZSB0ZXN0IHJlc3VsdHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEMzVGVzdFN1aXRlUmVwb3J0ZXIgaW1wbGVtZW50cyBqYXNtaW5lLkN1c3RvbVJlcG9ydGVyIHtcbiAgdGltZXJzOiBSZWNvcmQ8c3RyaW5nLCBqYXNtaW5lLlRpbWVyPjtcblxuICBUaW1lcjogamFzbWluZS5UaW1lcjtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IFRpbWVyOiBqYXNtaW5lLlRpbWVyIH0pIHtcbiAgICB0aGlzLnRpbWVycyA9IHt9O1xuICAgIHRoaXMuVGltZXIgPSBvcHRpb25zLlRpbWVyO1xuXG4gICAgdGhpcy5nZW5lcmF0ZUMzVGVzdFN1aXRlID0gdGhpcy5nZW5lcmF0ZUMzVGVzdFN1aXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICBzdWl0ZVN0YXJ0ZWQoc3VpdGU6IGphc21pbmUuU3VpdGVSZXN1bHQpOiB2b2lkIHtcbiAgICBjb25zdCB0aW1lcjogamFzbWluZS5UaW1lciA9IG5ldyB0aGlzLlRpbWVyKCk7XG4gICAgdGhpcy50aW1lcnNbc3VpdGUuZnVsbE5hbWVdID0gdGltZXI7XG4gICAgdGltZXIuc3RhcnQoKTtcbiAgfVxuXG4gIHN1aXRlRG9uZShzdWl0ZTogamFzbWluZS5TdWl0ZVJlc3VsdCk6IHZvaWQge1xuICAgIGNvbnN0IHRpbWVyID0gdGhpcy50aW1lcnNbc3VpdGUuZnVsbE5hbWVdO1xuICAgIHRpbWVyLnRpbWUgPSAodGltZXIuZWxhcHNlZCgpIHx8IDApIC8gMTAwMDtcbiAgfVxuXG4gIHNwZWNTdGFydGVkKHNwZWM6IGphc21pbmUuU3BlY1Jlc3VsdCk6IHZvaWQge1xuICAgIGNvbnN0IHRpbWVyOiBqYXNtaW5lLlRpbWVyID0gbmV3IHRoaXMuVGltZXIoKTtcbiAgICB0aGlzLnRpbWVyc1tzcGVjLmZ1bGxOYW1lXSA9IHRpbWVyO1xuICAgIHRpbWVyLnN0YXJ0KCk7XG4gIH1cblxuICBzcGVjRG9uZShzcGVjOiBqYXNtaW5lLlNwZWNSZXN1bHQpOiB2b2lkIHtcbiAgICBjb25zdCB0aW1lciA9IHRoaXMudGltZXJzW3NwZWMuZnVsbE5hbWVdO1xuICAgIHRpbWVyLnRpbWUgPSAodGltZXIuZWxhcHNlZCgpIHx8IDApIC8gMTAwMDtcbiAgfVxuXG4gIGdlbmVyYXRlQzNUZXN0U3VpdGUoKTogQ2xpZW50R2VuZXJhdGVkVGVzdFN1aXRlIHtcbiAgICBjb25zdCBsaW5lT2Zmc2V0ID0gMDtcbiAgICBjb25zdCBqc0FwaVJlcG9ydGVyOiBqYXNtaW5lLkpzQXBpUmVwb3J0ZXIgPSB3aW5kb3cuanNBcGlSZXBvcnRlcjtcbiAgICBjb25zdCBzdWl0ZVRpbWUgPSAoanNBcGlSZXBvcnRlci5leGVjdXRpb25UaW1lKCkgfHwgMCkgLyAxMDAwO1xuICAgIGNvbnN0IHNwZWNzID0ganNBcGlSZXBvcnRlci5zcGVjcygpO1xuICAgIGNvbnN0IHN1aXRlcyA9IGpzQXBpUmVwb3J0ZXIuc3VpdGVzKCk7XG4gICAgY29uc3QgdGltZXJzID0gdGhpcy50aW1lcnM7XG5cbiAgICBjb25zdCB0b3BMZXZlbFN1aXRlTmFtZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzdWl0ZXMpIHtcbiAgICAgIGNvbnN0IHN1aXRlID0gc3VpdGVzW2tleV07XG5cbiAgICAgIGlmIChzdWl0ZS5kZXNjcmlwdGlvbiAhPSBudWxsICYmIHN1aXRlLmRlc2NyaXB0aW9uID09IHN1aXRlLmZ1bGxOYW1lKSB7XG4gICAgICAgIHRvcExldmVsU3VpdGVOYW1lcy5wdXNoKHN1aXRlLmZ1bGxOYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHRyYWN0Q2xhc3NuYW1lKG9iajogamFzbWluZS5TdWl0ZVJlc3VsdCB8IGphc21pbmUuU3BlY1Jlc3VsdCk6IHN0cmluZyB7XG4gICAgICBsZXQgY2xhc3NuYW1lOiBzdHJpbmcgPSBudWxsO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvcExldmVsU3VpdGVOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0b3BMZXZlbFN1aXRlTmFtZSA9IHRvcExldmVsU3VpdGVOYW1lc1tpXTtcblxuICAgICAgICBpZiAob2JqLmZ1bGxOYW1lLmluZGV4T2YodG9wTGV2ZWxTdWl0ZU5hbWUpID09PSAwKSB7XG4gICAgICAgICAgY2xhc3NuYW1lID0gdG9wTGV2ZWxTdWl0ZU5hbWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjbGFzc25hbWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0cmFjdE5hbWUob2JqOiBqYXNtaW5lLlN1aXRlUmVzdWx0IHwgamFzbWluZS5TcGVjUmVzdWx0KTogc3RyaW5nIHtcbiAgICAgIGxldCBuYW1lID0gb2JqLmZ1bGxOYW1lO1xuXG4gICAgICAvLyBSZW1vdmUgdGhlIHN1aXRlIG5hbWUgZnJvbSB0aGUgc3BlYyBuYW1lLCBiZWNhdXNlIHRoYXQgd2lsbCBiZSByZXBvcnRlZCBzZXBhcmF0ZWx5XG4gICAgICBjb25zdCBjbGFzc25hbWUgPSBleHRyYWN0Q2xhc3NuYW1lKG9iaik7XG5cbiAgICAgIGlmIChuYW1lLmxlbmd0aCA+IGNsYXNzbmFtZS5sZW5ndGgpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyaW5nKGNsYXNzbmFtZS5sZW5ndGggKyAxKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5hbWUucmVwbGFjZSgvXFxzL2csICcnKS5sZW5ndGggPiAwID8gbmFtZSA6ICc8ZW1wdHkgbmFtZT4nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcm1hdExpbmVOdW1iZXIobGluZU51bWJlcjogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgIC8vIE1heWJlIHRoaXMgaXMgd3JvbmdcbiAgICAgIHJldHVybiAnXFxuICAgIGF0IGxpbmUgJyArIGxpbmVOdW1iZXI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0cmFjdEZhaWx1cmVzKG9iajogamFzbWluZS5TdWl0ZVJlc3VsdCB8IGphc21pbmUuU3BlY1Jlc3VsdCwgZmFpbHVyZVR5cGU6IHN0cmluZyk6IFRlc3RQcm9ibGVtIHtcbiAgICAgIGxldCBmYWlsdXJlTXNnID0gJyc7XG4gICAgICBvYmouZmFpbGVkRXhwZWN0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGZhaWxlZEV4cGVjdGF0aW9uKSB7XG4gICAgICAgIGlmIChmYWlsdXJlTXNnLmxlbmd0aCA+IDApIGZhaWx1cmVNc2cgKz0gJ1xcblxcbic7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpbWl0IHRoZSBsZW5ndGggb2YgdGhlIG1zZyBhbmQgc3RhY2sgdG8gcHJldmVudCBleGNlc3NpdmVcbiAgICAgICAgICogcmVnZXggcHJvY2Vzc2luZy5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IG1zZyA9IChmYWlsZWRFeHBlY3RhdGlvbi5tZXNzYWdlIHx8ICcnKS5zdWJzdHJpbmcoMCwgMTAyNDApO1xuICAgICAgICBjb25zdCBzdGFjayA9IChmYWlsZWRFeHBlY3RhdGlvbi5zdGFjayB8fCAnJykuc3Vic3RyaW5nKDAsIDEwMjQwKTtcbiAgICAgICAgbGV0IGZvcm1hdHRlZCA9IG1zZy5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJyk7XG5cbiAgICAgICAgbGV0IG1hdGNoOiBSZWdFeHBNYXRjaEFycmF5O1xuICAgICAgICBsZXQgcmVnZXhTdHIgPSAnKCArZnJvbSAuKywgbGluZSBcXFxcZCtcXFxcbiguKlxcXFxuKXs0fSknO1xuICAgICAgICBjb25zdCBjb2RlQmxvY2tSZWdleCA9IC8gaW4gVGVzdFJ1bm5lckpzX2phc21pbmVUZXN0XFwuanMoI1xcZCtcXChldmFsXFwpIyhcXGQrKSk/LipcXChsaW5lIChcXGQrKVxcKS87XG4gICAgICAgIGxldCBjb2RlQmxvY2tzOiBSZWdFeHBFeGVjQXJyYXkgfCBSZWdFeHBNYXRjaEFycmF5O1xuICAgICAgICBjb25zdCBjb2RlQmxvY2tSZXN1bHQgPSBjb2RlQmxvY2tSZWdleC5leGVjKG1zZyk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIChtYXRjaCA9IG1zZy5tYXRjaChcbiAgICAgICAgICAgIG5ldyBSZWdFeHAoJyhvcmcubW96aWxsYS5qYXZhc2NyaXB0LlxcXFx3KzogLiopIFxcXFwoLitcXFxcLlxcXFx3KyNcXFxcZCsuK1xcXFwpKC58XFxcXG58XFxcXHIpKycgKyByZWdleFN0ciksXG4gICAgICAgICAgKSkgfHxcbiAgICAgICAgICAobWF0Y2ggPSBtc2cubWF0Y2gobmV3IFJlZ0V4cCgnKFxcXFx3KkVycm9yOiAuKikgXFxcXCguK1xcXFwuXFxcXHcrI1xcXFxkKy4rXFxcXCkoLnxcXFxcbnxcXFxccikrJyArIHJlZ2V4U3RyKSkpIHx8XG4gICAgICAgICAgKG1hdGNoID0gbXNnLm1hdGNoKG5ldyBSZWdFeHAoJ3dyYXBwZWQgKFxcXFx3KkV4Y2VwdGlvbjogLiopKC58XFxcXG58XFxcXHIpKycgKyByZWdleFN0cikpKVxuICAgICAgICApIHtcbiAgICAgICAgICAvKlxuICAgICAgICAgICAqIFJlcG9ydHMgdGhyb3duIGVycm9yIGZyb20gSmF2YS9KYXZhU2NyaXB0OyB0cmltIG9mZiB0aGUgY3J1ZnQgYW5kIG9ubHkgaGF2ZSB0aGUgcmVsZXZhbnQgc3RhY2sgdHJhY2VcbiAgICAgICAgICAgKiBlLmcuIGMzLmxvdmUuZXhjZXB0aW9ucy5DM1J1bnRpbWVFeGNlcHRpb246IHdyYXBwZWQgb3JnLm1vemlsbGEuamF2YXNjcmlwdC5FY21hRXJyb3I6IFR5cGVFcnJvcjogQ2Fubm90IGNhbGwgbWV0aG9kIFwibXlGblwiIG9mIHVuZGVmaW5lZCAoVGVzdFJ1bm5lckpzX2phc21pbmVUZXN0LmpzIzQ2KGV2YWwpIzE4KEZ1bmN0aW9uKSMzKVxuICAgICAgICAgICAqIG9yIEphdmFFeGNlcHRpb246IGMzLmxvdmUuZXhjZXB0aW9ucy5DM1J1bnRpbWVFeGNlcHRpb246IHdyYXBwZWQgb3JnLm1vemlsbGEuamF2YXNjcmlwdC5KYXZhU2NyaXB0RXhjZXB0aW9uOiBFcnJvcjogdGhpcyBpcyBhIEpTIGVycm9yIChUZXN0UnVubmVyVGVzdFR5cGVfZmFpbFdpdGhUaHJvd25Kc0Vycm9yLmpzIzMwKVxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvZGVCbG9ja3MgPSBtc2cubWF0Y2gobmV3IFJlZ0V4cChyZWdleFN0ciwgJ2cnKSk7XG4gICAgICAgICAgZm9ybWF0dGVkID1cbiAgICAgICAgICAgIG1hdGNoWzFdICsgJ1xcbicgKyBjb2RlQmxvY2tzW2NvZGVCbG9ja3NbMF0uaW5kZXhPZignZW52X3NlcnZlci5qcycpID4gMCA/IDIgOiAwXSArICdcXG5GdWxsIGVycm9yXFxuJyArIG1zZztcbiAgICAgICAgfSBlbHNlIGlmIChjb2RlQmxvY2tSZXN1bHQgJiYgY29kZUJsb2NrUmVzdWx0LmluZGV4ID49IDApIHtcbiAgICAgICAgICBmb3JtYXR0ZWQgPSBtc2cuc3Vic3RyaW5nKDAsIGNvZGVCbG9ja1Jlc3VsdC5pbmRleCk7XG5cbiAgICAgICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAocmVnZXhTdHIpO1xuICAgICAgICAgIGNvZGVCbG9ja3MgPSByZWdleC5leGVjKG1zZyk7XG5cbiAgICAgICAgICBpZiAoY29kZUJsb2NrcyAmJiBjb2RlQmxvY2tzLmluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZCA9IG1zZy5zdWJzdHJpbmcoMCwgY29kZUJsb2Nrcy5pbmRleCk7XG4gICAgICAgICAgICBmb3JtYXR0ZWQgKz0gbXNnLnN1YnN0cmluZygwLCAvIGluIFRlc3RSdW5uZXJKc19qYXNtaW5lVGVzdFxcLmpzLy5leGVjKG1zZykuaW5kZXgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qXG4gICAgICAgICAgICogQ29kZUJsb2NrUmVzdWx0WzJdIGlzIGZvciBsaW5lIGluIHRoZSBldmFsLCBjb2RlQmxvY2tSZXN1bHRbM10gZm9yIFwiKGxpbmUgLi4uKVwiXG4gICAgICAgICAgICogU2t5d2Fsa2VyJ3MgdGhyb3dFcnJvciBmdW5jdGlvbiB0aHJvd3Mgb2ZmIHRoZSBsaW5lIG51bWJlciByZXBvcnRpbmdcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmb3JtYXR0ZWQgKz0gJ1xcbkZ1bGwgZXJyb3JcXG4nICsgbXNnO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIChtYXRjaCA9IHN0YWNrLm1hdGNoKG5ldyBSZWdFeHAoKHJlZ2V4U3RyID0gJ2F0IC4rIFxcXFwoPFxcXFx3Kz46KFxcXFxkKykoOlxcXFxkKyk/XFxcXCknKSwgJ2cnKSkpIHx8XG4gICAgICAgICAgKG1hdGNoID0gc3RhY2subWF0Y2gobmV3IFJlZ0V4cCgocmVnZXhTdHIgPSAnYXQgVGVzdFJ1bm5lckpzXFxcXF9qYXNtaW5lVGVzdFxcXFwuanNbXjpdKjooXFxcXGQrKScpLCAnZycpKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgLypcbiAgICAgICAgICAgKiBJZiBKYXNtaW5lIHByb3ZpZGVzIGEgYnJvd3Nlci9yaGlubyBzdGFjaywgcGFyc2UgdGhhdCBhbmQgZXh0cmFjdCB0aGUgZmFpbGluZyBsaW5lcyBpbiBgdGVzdHNgXG4gICAgICAgICAgICogYW5kIGFwcGVuZCB0aGVtIHRvIHRoZSBtZXNzYWdlLCBlLmdcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEV4cGVjdGVkICdleHBlY3QgaW4gYmVmb3JlRWFjaCgpJyB0byBiZSBudWxsLlxuICAgICAgICAgICAqICAgICBhdCA8SmFzbWluZT5cbiAgICAgICAgICAgKiAgICBhdCBUZXN0UnVubmVySnNfamFzbWluZVRlc3QuanMjNDYoZXZhbCk6MTBcbiAgICAgICAgICAgKiAgICAgYXQgPEphc21pbmU+XG4gICAgICAgICAgICogICAgYXQgamFzbWluZS9qYXNtaW5lLWJvb3QuanM6MzQgKGFub255bW91cylcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBtYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChjdXJDYWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJNYXRjaCA9IGN1ckNhbGwubWF0Y2gobmV3IFJlZ0V4cChyZWdleFN0cikpO1xuICAgICAgICAgICAgZm9ybWF0dGVkICs9IGZvcm1hdExpbmVOdW1iZXIoTnVtYmVyKGN1ck1hdGNoWzFdKSAtIGxpbmVPZmZzZXQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZmFpbHVyZU1zZyArPSBmb3JtYXR0ZWQ7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVzc2FnZTogZmFpbHVyZU1zZyxcbiAgICAgICAgdHlwZV86IGZhaWx1cmVUeXBlLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZVRlc3RDYXNlKG9iajogamFzbWluZS5TdWl0ZVJlc3VsdCB8IGphc21pbmUuU3BlY1Jlc3VsdCk6IFRlc3RDYXNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNsYXNzbmFtZTogZXh0cmFjdENsYXNzbmFtZShvYmopLFxuICAgICAgICBuYW1lOiBleHRyYWN0TmFtZShvYmopLFxuICAgICAgICB0aW1lOiB0aW1lcnNbb2JqLmZ1bGxOYW1lXS50aW1lIHx8IDAsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHRjQXJyOiBUZXN0Q2FzZVtdID0gW107XG4gICAgbGV0IHNraXBwZWQgPSAwO1xuICAgIGxldCBmYWlsZWQgPSAwO1xuICAgIGxldCBlcnJvcnMgPSAwO1xuXG4gICAgLy8gRmlyc3QgcmVwb3J0IGZhaWx1cmVzIGF0IHRoZSBkZXNjcmliZS9iZWZvcmUqL2FmdGVyKiBsZXZlbFxuICAgIGZvciAoY29uc3Qga2V5IGluIHN1aXRlcykge1xuICAgICAgY29uc3Qgc3VpdGUgPSBzdWl0ZXNba2V5XTtcblxuICAgICAgaWYgKHN1aXRlLnN0YXR1cyA9PSAnZmFpbGVkJykge1xuICAgICAgICBjb25zdCB0YyA9IGdlbmVyYXRlVGVzdENhc2Uoc3VpdGUpO1xuICAgICAgICB0Yy5mYWlsdXJlID0gZXh0cmFjdEZhaWx1cmVzKHN1aXRlLCAnc3VpdGUgZmFpbHVyZScpO1xuICAgICAgICB0Y0Fyci5wdXNoKHRjKTtcbiAgICAgICAgZmFpbGVkKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTmV4dCByZXBvcnQgZmFpbHVyZXMgaW4gdGhlIGl0IGJsb2Nrc1xuICAgIHNwZWNzLmZvckVhY2goZnVuY3Rpb24gKHNwZWMpIHtcbiAgICAgIGNvbnN0IHRjID0gZ2VuZXJhdGVUZXN0Q2FzZShzcGVjKTtcblxuICAgICAgc3dpdGNoIChzcGVjLnN0YXR1cykge1xuICAgICAgICBjYXNlICdwYXNzZWQnOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdmYWlsZWQnOlxuICAgICAgICAgIHRjLmZhaWx1cmUgPSBleHRyYWN0RmFpbHVyZXMoc3BlYywgJ3NwZWMgZmFpbHVyZScpO1xuICAgICAgICAgIGZhaWxlZCsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgY2FzZSAnZXhjbHVkZWQnOlxuICAgICAgICAgIHRjLnNraXBwZWQgPSB7XG4gICAgICAgICAgICBtZXNzYWdlOiBzcGVjLnBlbmRpbmdSZWFzb24gIT0gJycgPyBzcGVjLnBlbmRpbmdSZWFzb24gOiBzcGVjLnN0YXR1cyxcbiAgICAgICAgICAgIHR5cGVfOiBzcGVjLnN0YXR1cyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHNraXBwZWQrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0Yy5lcnJvciA9IHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICd1bmtub3duIHNwZWMgc3RhdHVzOiAnICsgc3BlYy5zdGF0dXMsXG4gICAgICAgICAgICB0eXBlXzogJ2Vycm9yJyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGVycm9ycysrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICB0Y0Fyci5wdXNoKHRjKTtcbiAgICB9KTtcblxuICAgIGlmICh0Y0Fyci5sZW5ndGggPT0gMCkge1xuICAgICAgZXJyb3JzKys7XG4gICAgICBjb25zdCBzdWl0ZU5hbWVzID0gdG9wTGV2ZWxTdWl0ZU5hbWVzLmpvaW4oJywgJyk7XG4gICAgICB0Y0Fyci5wdXNoKHtcbiAgICAgICAgY2xhc3NuYW1lOiBzdWl0ZU5hbWVzLFxuICAgICAgICBuYW1lOiBzdWl0ZU5hbWVzLFxuICAgICAgICB0aW1lOiBzdWl0ZVRpbWUsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgbWVzc2FnZTogJ25vIHNwZWNzIHJhbicsXG4gICAgICAgICAgdHlwZV86ICdlcnJvcicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaG9zdG5hbWU6ICdsb2NhbGhvc3QnLCAvLyBGb3Igbm93XG4gICAgICB0aW1lOiBzdWl0ZVRpbWUsXG4gICAgICBkaXNhYmxlZDogMCxcbiAgICAgIHdhcm5pbmdzOiAwLFxuICAgICAgZXJyb3JzOiBlcnJvcnMsXG4gICAgICBmYWlsdXJlczogZmFpbGVkLFxuICAgICAgc2tpcHBlZDogc2tpcHBlZCxcbiAgICAgIHRlc3RzOiB0Y0Fyci5sZW5ndGgsXG4gICAgICB0ZXN0Y2FzZTogdGNBcnIsXG4gICAgfTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkMzVGVzdFN1aXRlUmVwb3J0ZXIiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJfZGVmaW5lUHJvcGVydHkiLCJ0aW1lcnMiLCJUaW1lciIsImdlbmVyYXRlQzNUZXN0U3VpdGUiLCJiaW5kIiwic3VpdGVTdGFydGVkIiwic3VpdGUiLCJ0aW1lciIsImZ1bGxOYW1lIiwic3RhcnQiLCJzdWl0ZURvbmUiLCJ0aW1lIiwiZWxhcHNlZCIsInNwZWNTdGFydGVkIiwic3BlYyIsInNwZWNEb25lIiwibGluZU9mZnNldCIsImpzQXBpUmVwb3J0ZXIiLCJ3aW5kb3ciLCJzdWl0ZVRpbWUiLCJleGVjdXRpb25UaW1lIiwic3BlY3MiLCJzdWl0ZXMiLCJ0b3BMZXZlbFN1aXRlTmFtZXMiLCJrZXkiLCJkZXNjcmlwdGlvbiIsInB1c2giLCJleHRyYWN0Q2xhc3NuYW1lIiwib2JqIiwiY2xhc3NuYW1lIiwiaSIsImxlbmd0aCIsInRvcExldmVsU3VpdGVOYW1lIiwiaW5kZXhPZiIsImV4dHJhY3ROYW1lIiwibmFtZSIsInN1YnN0cmluZyIsInJlcGxhY2UiLCJmb3JtYXRMaW5lTnVtYmVyIiwibGluZU51bWJlciIsImV4dHJhY3RGYWlsdXJlcyIsImZhaWx1cmVUeXBlIiwiZmFpbHVyZU1zZyIsImZhaWxlZEV4cGVjdGF0aW9ucyIsImZvckVhY2giLCJmYWlsZWRFeHBlY3RhdGlvbiIsIm1zZyIsIm1lc3NhZ2UiLCJzdGFjayIsImZvcm1hdHRlZCIsIm1hdGNoIiwicmVnZXhTdHIiLCJjb2RlQmxvY2tSZWdleCIsImNvZGVCbG9ja3MiLCJjb2RlQmxvY2tSZXN1bHQiLCJleGVjIiwiUmVnRXhwIiwiaW5kZXgiLCJyZWdleCIsImN1ckNhbGwiLCJjdXJNYXRjaCIsIk51bWJlciIsInR5cGVfIiwiZ2VuZXJhdGVUZXN0Q2FzZSIsInRjQXJyIiwic2tpcHBlZCIsImZhaWxlZCIsImVycm9ycyIsInN0YXR1cyIsInRjIiwiZmFpbHVyZSIsInBlbmRpbmdSZWFzb24iLCJlcnJvciIsInN1aXRlTmFtZXMiLCJqb2luIiwiaG9zdG5hbWUiLCJkaXNhYmxlZCIsIndhcm5pbmdzIiwiZmFpbHVyZXMiLCJ0ZXN0cyIsInRlc3RjYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@c3/ui/C3TestSuiteReporter.ts_c3ui_core\n");

/***/ })

}]);