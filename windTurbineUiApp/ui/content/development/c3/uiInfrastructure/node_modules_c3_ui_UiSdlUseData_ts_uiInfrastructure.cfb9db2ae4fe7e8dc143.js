"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkjs_webpack_c3_client_node"] = self["webpackChunkjs_webpack_c3_client_node"] || []).push([["node_modules_c3_ui_UiSdlUseData_ts_uiInfrastructure"],{

/***/ "./node_modules/@c3/ui/UiSdlUseData.ts_uiInfrastructure":
/*!*********************************************!*\
  !*** ./node_modules/@c3/ui/UiSdlUseData.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __GetDependency__: () => (/* binding */ _get__),\n/* harmony export */   __ResetDependency__: () => (/* binding */ _reset__),\n/* harmony export */   __RewireAPI__: () => (/* binding */ _RewireAPI__),\n/* harmony export */   __Rewire__: () => (/* binding */ _set__),\n/* harmony export */   __get__: () => (/* binding */ _get__),\n/* harmony export */   __set__: () => (/* binding */ _set__),\n/* harmony export */   compareDataSpecsAndFindDiff: () => (/* binding */ compareDataSpecsAndFindDiff),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   defaultValues: () => (/* binding */ defaultValues),\n/* harmony export */   forEachPartiallyAppliedActionInfo: () => (/* binding */ forEachPartiallyAppliedActionInfo),\n/* harmony export */   getChangedDataSpecs: () => (/* binding */ getChangedDataSpecs),\n/* harmony export */   getDataSourceMap: () => (/* binding */ getDataSourceMap),\n/* harmony export */   normalizeImmutable: () => (/* binding */ normalizeImmutable),\n/* harmony export */   requestData: () => (/* binding */ requestData),\n/* harmony export */   shouldRequestDataOnFirstRender: () => (/* binding */ shouldRequestDataOnFirstRender),\n/* harmony export */   useData: () => (/* binding */ useData),\n/* harmony export */   useSelectedState: () => (/* binding */ useSelectedState)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react_uiInfrastructure\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ \"webpack/sharing/consume/default/react-redux_uiInfrastructure\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var immutable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable_uiInfrastructure\");\n/* harmony import */ var immutable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(immutable__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_each__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/each */ \"webpack/sharing/consume/default/lodash/each/lodash/each_uiInfrastructure\");\n/* harmony import */ var lodash_each__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_each__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/get */ \"webpack/sharing/consume/default/lodash/get/lodash/get_uiInfrastructure\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/cloneDeep */ \"webpack/sharing/consume/default/lodash/cloneDeep/lodash/cloneDeep_uiInfrastructure\");\n/* harmony import */ var lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var lodash_set__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/set */ \"webpack/sharing/consume/default/lodash/set/lodash/set_uiInfrastructure\");\n/* harmony import */ var lodash_set__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_set__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/isEmpty */ \"webpack/sharing/consume/default/lodash/isEmpty/lodash/isEmpty_uiInfrastructure\");\n/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/isEqual */ \"webpack/sharing/consume/default/lodash/isEqual/lodash/isEqual_uiInfrastructure\");\n/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var lodash_extend__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash/extend */ \"webpack/sharing/consume/default/lodash/extend/lodash/extend_uiInfrastructure\");\n/* harmony import */ var lodash_extend__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_extend__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var lodash_isUndefined__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash/isUndefined */ \"webpack/sharing/consume/default/lodash/isUndefined/lodash/isUndefined_uiInfrastructure\");\n/* harmony import */ var lodash_isUndefined__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash_isUndefined__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/merge */ \"webpack/sharing/consume/default/lodash/merge/lodash/merge_uiInfrastructure\");\n/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _c3_ui_UiSdlDynamicValueSpec__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @c3/ui/UiSdlDynamicValueSpec */ \"webpack/container/remote/@c3/ui/UiSdlDynamicValueSpec_uiInfrastructure\");\n/* harmony import */ var _c3_ui_UiSdlDynamicValueSpec__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_c3_ui_UiSdlDynamicValueSpec__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _c3_ui_UiSdlConnected__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @c3/ui/UiSdlConnected */ \"webpack/sharing/consume/default/@c3/ui/UiSdlConnected_uiInfrastructure\");\n/* harmony import */ var _c3_ui_UiSdlConnected__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_c3_ui_UiSdlConnected__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _c3_ui_UiSdlDataRedux__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @c3/ui/UiSdlDataRedux */ \"webpack/container/remote/@c3/ui/UiSdlDataRedux_uiInfrastructure\");\n/* harmony import */ var _c3_ui_UiSdlDataRedux__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_c3_ui_UiSdlDataRedux__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _c3_ui_UiSdlLogger__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @c3/ui/UiSdlLogger */ \"webpack/container/remote/@c3/ui/UiSdlLogger_uiInfrastructure\");\n/* harmony import */ var _c3_ui_UiSdlLogger__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_c3_ui_UiSdlLogger__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _c3_ui_UiSdlUseDispatch__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @c3/ui/UiSdlUseDispatch */ \"webpack/sharing/consume/default/@c3/ui/UiSdlUseDispatch/@c3/ui/UiSdlUseDispatch_uiInfrastructure\");\n/* harmony import */ var _c3_ui_UiSdlUseDispatch__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_c3_ui_UiSdlUseDispatch__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _c3_app_ui_src_reducerRegistry__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @c3/app/ui/src/reducerRegistry */ \"webpack/sharing/consume/default/@c3/app/ui/src/reducerRegistry_uiInfrastructure\");\n/* harmony import */ var _c3_app_ui_src_reducerRegistry__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_c3_app_ui_src_reducerRegistry__WEBPACK_IMPORTED_MODULE_17__);\n/*\n * Copyright 2009-2024 C3 AI (www.c3.ai). All Rights Reserved.\n * This material, including without limitation any software, is the confidential trade secret and proprietary\n * information of C3 and its licensors. Reproduction, use and/or distribution of this material in any form is\n * strictly prohibited except as set forth in a written license agreement with C3 and/or its authorized distributors.\n * This material may be covered by one or more patents or pending patent applications.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* eslint-disable import/exports-last */\n\nconst normalizeImmutable = maybeImmutable => {\n  if (!_get__(\"isUndefined\")(maybeImmutable)) {\n    if (_get__(\"Iterable\").isIterable(maybeImmutable)) {\n      return maybeImmutable.toJS();\n    }\n    return maybeImmutable;\n  }\n  return null;\n};\n/**\n * Iterates over all partially applied action info objects for the given component data spec.\n * @param componentId The id of the component to which this data belongs.\n * @param dataSpec The data spec for this component.\n * @param contextVars The contextVars of the data spec for this component.\n * @param config The full configuration of this component.\n * @param dataSpecType The C3 type (ES module)\n * @param dataSpecFieldName The name of the field for this data spec.\n * @param iterator An iterator to be called for each partially applied action.\n */\nconst forEachPartiallyAppliedActionInfo = (componentId, dataSpec, contextVars, config, dataSpecType, dataSpecFieldName, iterator) => {\n  var _partiallyAppliedActi, _partiallyAppliedActi2;\n  let partiallyAppliedActionInfos;\n  dataSpec.contextVars = contextVars;\n  if (dataSpec.advancedDataSpec) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (dataSpecType.hasOwnProperty('toPartiallyAppliedAdvancedActions')) {\n      // @ts-expect-error TODO: ENGR-10369 Enhance typescript types generation to include methods\n      partiallyAppliedActionInfos = dataSpecType.toPartiallyAppliedAdvancedActions(dataSpec);\n    } else {\n      _get__(\"withName\")('UiSdlUseData').error(`${componentId}: \\`advancedDataSpec\\` is not allowed for data spec types that do not implement \\`toPartiallyAppliedAdvancedActions\\`. (data spec field: '${dataSpecFieldName}')`);\n    }\n    // eslint-disable-next-line no-prototype-builtins\n  } else if (dataSpecType.hasOwnProperty('toPartiallyAppliedActions')) {\n    // @ts-expect-error TODO: ENGR-10369 Enhance typescript types generation to include methods\n    partiallyAppliedActionInfos = dataSpecType.toPartiallyAppliedActions(dataSpec, config);\n  } else {\n    _get__(\"withName\")('UiSdlUseData').error(`${componentId}: Method \\`toPartiallyAppliedActions\\` is not defined on type for data spec field '${dataSpecFieldName}'.`);\n  }\n  const requireActionId = ((_partiallyAppliedActi = partiallyAppliedActionInfos) === null || _partiallyAppliedActi === void 0 ? void 0 : _partiallyAppliedActi.length) > 1;\n  (_partiallyAppliedActi2 = partiallyAppliedActionInfos) === null || _partiallyAppliedActi2 === void 0 || _partiallyAppliedActi2.forEach(partiallyAppliedActionInfo => {\n    if (!partiallyAppliedActionInfo.actionId && requireActionId) {\n      _get__(\"withName\")('UiSdlUseData').error(componentId + ': UiSdlPartiallyAppliedActionInfo.actionId is required for components with multiple PartialyAppliedActionInfos.');\n    }\n    iterator.call(null, partiallyAppliedActionInfo);\n  });\n};\nconst getDataSourceMap = (componentId, dataSpecs, dataSpecsConfiguredContextVars, config) => {\n  return dataSpecs.reduce((dataSourceMap, {\n    dataSpecFieldName,\n    dataSpecType,\n    dataDestinationFieldName\n  }) => {\n    if (!dataSpecType) return dataSourceMap;\n    const dataSpec = _get__(\"cloneDeep\")(_get__(\"get\")(config, dataSpecFieldName));\n    const contextVars = dataSpecsConfiguredContextVars[dataSpecFieldName];\n    if (!dataSpec) return dataSourceMap;\n    _get__(\"forEachPartiallyAppliedActionInfo\")(componentId, dataSpec, contextVars, config, dataSpecType, dataSpecFieldName, partiallyAppliedActionInfo => {\n      const partiallyAppliedActionId = partiallyAppliedActionInfo.actionId || dataSpecFieldName;\n      const dataSourceId = _get__(\"getCollectionDataSourceId\")(partiallyAppliedActionId, componentId);\n      dataSourceMap[dataSourceId] = {\n        dataDestinationFieldName: dataDestinationFieldName,\n        dataSpecFieldName: dataSpecFieldName,\n        actionId: partiallyAppliedActionId\n      };\n    });\n    return dataSourceMap;\n  }, {});\n};\nconst shouldRequestDataOnFirstRender = (config, dataSpec, dataSpecType, changedDataSpecs) => {\n  var _dataSpec$disableData, _dataSpecType$default;\n  return !config.disableDataRequestOnFirstRender &&\n  // Check per this specific data spec\n  !((_dataSpec$disableData = dataSpec === null || dataSpec === void 0 ? void 0 : dataSpec.disableDataRequestOnFirstRender) !== null && _dataSpec$disableData !== void 0 ? _dataSpec$disableData : (_dataSpecType$default = dataSpecType.defaultValues) === null || _dataSpecType$default === void 0 ? void 0 : _dataSpecType$default.disableDataRequestOnFirstRender) || (changedDataSpecs === null || changedDataSpecs === void 0 ? void 0 : changedDataSpecs.length) > 0;\n};\nconst requestData = (componentId, dataSpecs, dataSpecsConfiguredContextVars, config, changedDataSpecs, dispatch, doNotRequestData) => {\n  dataSpecs.forEach(({\n    dataSpecFieldName,\n    dataSpecType\n  }) => {\n    if (!dataSpecType) return;\n    const dataSpec = _get__(\"cloneDeep\")(_get__(\"get\")(config, dataSpecFieldName));\n    const contextVars = dataSpecsConfiguredContextVars[dataSpecFieldName];\n    if (!dataSpec) return;\n    _get__(\"forEachPartiallyAppliedActionInfo\")(componentId, dataSpec, contextVars, config, dataSpecType, dataSpecFieldName, partiallyAppliedActionInfo => {\n      var _dataSpecType$default2, _dataSpecType$default3;\n      const partiallyAppliedActionId = partiallyAppliedActionInfo.actionId || dataSpecFieldName;\n      const dataSourceId = _get__(\"getCollectionDataSourceId\")(partiallyAppliedActionId, componentId);\n\n      // If any part of the component tree does not want this UIDataRedux to make a request on render, block it\n      const requestOnFirstRender = _get__(\"shouldRequestDataOnFirstRender\")(config, dataSpec, dataSpecType, changedDataSpecs);\n\n      // Only dispatch the request data action when there is enough metadata to do so and request is not disabled.\n      const {\n        partiallyAppliedAction,\n        tunnelConfiguration\n      } = partiallyAppliedActionInfo;\n      const newConfig = _get__(\"extend\")({}, partiallyAppliedAction);\n\n      // Merge default dataTransforms\n      if (partiallyAppliedActionInfo.dataTransforms) {\n        newConfig.dataTransforms = partiallyAppliedActionInfo.dataTransforms;\n      } else if (dataSpecType !== null && dataSpecType !== void 0 && (_dataSpecType$default2 = dataSpecType.defaultValues) !== null && _dataSpecType$default2 !== void 0 && _dataSpecType$default2.dataTransforms) {\n        newConfig.dataTransforms = dataSpecType.defaultValues.dataTransforms;\n      }\n\n      // Merge default dataSpecDependence\n      if (dataSpecType !== null && dataSpecType !== void 0 && (_dataSpecType$default3 = dataSpecType.defaultValues) !== null && _dataSpecType$default3 !== void 0 && _dataSpecType$default3.dataSpecDependence) {\n        newConfig.dataSpecDependence = dataSpecType.defaultValues.dataSpecDependence;\n      }\n      if (tunnelConfiguration) {\n        _get__(\"extend\")(newConfig, {\n          tunnelConfiguration: tunnelConfiguration\n        });\n      }\n\n      /*\n       * Set the data config in state, so it is available if/when data is requested.\n       * Fall back to dataSpec contextVars if other dataSpec don't have contextVars.\n       */\n      dispatch(_get__(\"updateDataConfigAction\")(dataSourceId, newConfig, !_get__(\"isEmpty\")(contextVars) ? contextVars : partiallyAppliedActionInfo.contextVars, componentId));\n\n      /**\n       * Merge arguments of the spec changes.  Still need to call this even though arguments are added in `updateDataConfigAction`,\n       * because `argumentsMergeEffect` does a deep merge of the arguments\n       */\n      if (!_get__(\"isEmpty\")(partiallyAppliedAction.args)) {\n        dispatch(_get__(\"mergeArgumentsAction\")(dataSourceId, partiallyAppliedAction.args, undefined));\n      }\n      if (requestOnFirstRender && partiallyAppliedAction.typeName && partiallyAppliedAction.actionName && !(doNotRequestData !== null && doNotRequestData !== void 0 && doNotRequestData.includes(dataSpecFieldName))) {\n        var _dataSpec$dataTransfo, _dataSpecType$default4;\n        // Read transforms from user/developer supplied configuration\n        const actionTransforms = (_dataSpec$dataTransfo = dataSpec === null || dataSpec === void 0 ? void 0 : dataSpec.dataTransforms) !== null && _dataSpec$dataTransfo !== void 0 ? _dataSpec$dataTransfo : (_dataSpecType$default4 = dataSpecType.defaultValues) === null || _dataSpecType$default4 === void 0 ? void 0 : _dataSpecType$default4.dataTransforms;\n        dispatch(_get__(\"requestDataAction\")(dataSourceId, actionTransforms));\n      }\n    });\n  });\n};\n\n/**\n * This function checks the metadata to see if the dataSpec resolution should be ignored based on contextVar resolution\n * paramaters and the existing dataSpec contextVars.\n *\n * @param dataSpecs array of DataSpecsContextVars that have already been dispatched\n * @param metadata metadata of the component\n * @param currentDataSpec the name of the dataSpec to look at\n * @returns boolean of whether the dataSpec should be ignored\n */\nconst ignoreContextVarsOnce = (dataSpecs, metadata, currentDataSpec) => {\n  var _metadata$currentData;\n  return ((_metadata$currentData = metadata[currentDataSpec]) === null || _metadata$currentData === void 0 ? void 0 : _metadata$currentData.ignoreFirstContextVarResolution) && _get__(\"isEmpty\")(dataSpecs[currentDataSpec]);\n};\n\n/**\n * This function checks the metadata to see if the dataSpec resolution should be ignored based on contextVar resolution\n * paramaters\n *\n * @param metadata metadata of the component\n * @param currentDataSpec the name of the dataSpec to look at\n * @returns boolean of whether the dataSpec should be ignored\n */\nconst ignoreContextVarsAlways = (metadata, currentDataSpec) => {\n  var _metadata$currentData2;\n  return (_metadata$currentData2 = metadata[currentDataSpec]) === null || _metadata$currentData2 === void 0 ? void 0 : _metadata$currentData2.ignoreAllContextVarResolution;\n};\n\n/**\n * This function compares current and previous DataSpecsContextVars and find the changed dataSpecs\n * @param current array of DataSpecsContextVars that will be dispatched\n * @param previous array of DataSpecsContextVars that was dispatched last time\n * @param metadata the metadata of the component\n * @returns array of DataSpecsContextVars that are changed between the two dispatches\n */\nconst compareDataSpecsAndFindDiff = (current, previous, metadata) => {\n  if (!previous) {\n    return [[], []];\n  }\n  let differentDataSpecs = new Array();\n  let doNotRequestData = new Array();\n  Object.keys(current).forEach(currentDataSpec => {\n    if (!previous[currentDataSpec]) {\n      differentDataSpecs.push(currentDataSpec);\n    } else if (_get__(\"isEqual\")(current[currentDataSpec], previous[currentDataSpec]) === false) {\n      if (_get__(\"ignoreContextVarsOnce\")(previous, metadata, currentDataSpec) || _get__(\"ignoreContextVarsAlways\")(metadata, currentDataSpec)) {\n        doNotRequestData.push(currentDataSpec);\n      }\n      differentDataSpecs.push(currentDataSpec);\n    }\n  });\n  return [differentDataSpecs, doNotRequestData];\n};\n\n/**\n * This function filters out the dataspecs that didn't change from current vs. previous\n * And return an array of dataSpecs that needs to send to `requestData` and eventually send to requestDataAction\n * @param dataSpecNames array of strings as dataspec names\n * @param dataSpecObjects array of actual dataspec objects\n * @returns array of dataSpecObjects\n */\nconst getChangedDataSpecs = (dataSpecNames, dataSpecObjects) => {\n  return dataSpecNames.map(name => {\n    return dataSpecObjects.find(dataspec => {\n      return dataspec.dataSpecFieldName === name;\n    });\n  }).filter(ele => ele); // To remove `undefined` returned from find method\n};\n\n/**\n * Optimized version of Redux's useSelector.\n *\n * This implementation uses the stateUpdates observable to limit how much the\n * selector function is executed and ensure components don't get re-rendered\n * when no changes have been done to the state.\n *\n * @param selector The selector function that retrieves state\n * @param equalityFn A function to compare previous state to new state\n * @returns The selected state\n * @see stateUpdates in reducerRegistry.ts\n */\nconst useSelectedState = (selector, equalityFn) => {\n  if (!equalityFn) {\n    equalityFn = _get__(\"shallowEqual\");\n  }\n  /**\n   * Using refs is important here to ensure we get new values on every render\n   * otherwise values might not get updated because of closures.\n   */\n  const latestSelectedState = _get__(\"useRef\")();\n  const latestSelector = _get__(\"useRef\")();\n  const store = _get__(\"useStore\")();\n  const [, forceRender] = _get__(\"useReducer\")(s => s + 1, 0);\n\n  // For first call or a re-render, synchronously select the state and return.\n  if (selector !== latestSelector.current) {\n    latestSelectedState.current = selector(store.getState());\n  }\n\n  // Update the current selector ref (in case it changed outside our closure)\n  _get__(\"useEffect\")(() => {\n    latestSelector.current = selector;\n  });\n\n  // Subscribe to our stateUpdates observable and force render as needed\n  _get__(\"useEffect\")(() => {\n    const subscription = _get__(\"stateUpdates\").subscribe(state => {\n      const newSelectedState = latestSelector.current(state);\n      if (equalityFn(newSelectedState, latestSelectedState.current)) {\n        return;\n      }\n      latestSelectedState.current = newSelectedState;\n      forceRender({});\n    });\n    return () => subscription.unsubscribe();\n  }, []);\n  return latestSelectedState.current;\n};\n\n/**\n * Typed version of useSelector.\n *\n * Used as an abstraction layer to provide a useSelector implementation that is optimized for our Redux use cases.\n *\n * @see useSelectedState\n * @see stateUpdates from reducerRegistry\n */\nconst useTypedSelector = _get__(\"useSelectedState\");\nconst addResolvedContextVars = (contextVars, result, context, dataSpecFieldName) => {\n  _get__(\"each\")(contextVars, (param, contextVar) => {\n    const currentParamValue = _get__(\"extractParamValue\")(param, context);\n    result.dataSpecsConfiguredContextVars[dataSpecFieldName][contextVar] = param;\n    result.dataSpecsResolvedContextVars[dataSpecFieldName][contextVar] = currentParamValue;\n  });\n  return result;\n};\nconst useData = (componentId, dataSpecs, metadata, dataMergeFunction) => {\n  const dispatch = _get__(\"useDispatch\")();\n\n  /*\n   * If any of a component's dataSpecs are configured with contextVars,\n   * we check to see if any of the variable's resolved values have changed.\n   * If a change is detected, the component's data sources are refreshed.\n   */\n  const {\n    dataSpecsConfiguredContextVars,\n    dataSpecsResolvedContextVars,\n    allDataSpecs\n  } = _get__(\"useTypedSelector\")(state => {\n    var result = {\n      dataSpecsConfiguredContextVars: {},\n      dataSpecsResolvedContextVars: {},\n      allDataSpecs: []\n    };\n    const context = {\n      metadataId: componentId,\n      state: state\n    };\n    dataSpecs.forEach(dataSpec => {\n      const dataSpecFieldName = dataSpec.dataSpecFieldName;\n      result.dataSpecsConfiguredContextVars[dataSpecFieldName] = {};\n      result.dataSpecsResolvedContextVars[dataSpecFieldName] = {};\n      const dataSpecConfiguration = _get__(\"get\")(metadata, dataSpecFieldName);\n      result.allDataSpecs.push(dataSpecConfiguration);\n      const contextVars = dataSpecConfiguration === null || dataSpecConfiguration === void 0 ? void 0 : dataSpecConfiguration.contextVars;\n      result = _get__(\"addResolvedContextVars\")(contextVars, result, context, dataSpecFieldName);\n\n      /*\n       * If the contextVars is configured in component's dataSpec's toPartiallyAppliedActions,\n       * check if any resolved values have changed.\n       */\n      const dataSpecConfig = _get__(\"cloneDeep\")(_get__(\"get\")(metadata, dataSpecFieldName));\n      const dataSpecType = dataSpec.dataSpecType;\n      if (!!dataSpecConfig && !!dataSpecType) {\n        _get__(\"forEachPartiallyAppliedActionInfo\")(componentId, dataSpecConfig, contextVars, metadata, dataSpecType, dataSpecFieldName, partiallyAppliedActionInfo => {\n          result = _get__(\"addResolvedContextVars\")(partiallyAppliedActionInfo.contextVars, result, context, dataSpecFieldName);\n        });\n      }\n    });\n    return result;\n  }, (prev, next) => {\n    return _get__(\"isEqual\")(prev, next);\n  });\n\n  /*\n   * Upon receiving the component's metadata or detecting a change in the component's\n   * resolved contextVars, initialize or refresh this component's data sources.\n   */\n  const dataSpecsResolvedContextVarsRef = _get__(\"useRef\")(dataSpecsResolvedContextVars);\n  let changedDataSpecs;\n  _get__(\"useEffect\")(() => {\n    // Initial load. When the metadata is loaded, request the data.\n    if (metadata) {\n      _get__(\"requestData\")(componentId, dataSpecs, dataSpecsConfiguredContextVars, metadata, changedDataSpecs, dispatch);\n    }\n  }, [!!metadata]);\n  _get__(\"useEffect\")(() => {\n    // Context vars have changed; only update the changed dataSpec.\n    if (dataSpecsResolvedContextVarsRef.current) {\n      const [changedDataSpecs, doNotRequestData] = _get__(\"compareDataSpecsAndFindDiff\")(dataSpecsResolvedContextVars, dataSpecsResolvedContextVarsRef.current, metadata);\n      const dataSpecsToUpdate = _get__(\"getChangedDataSpecs\")(changedDataSpecs, dataSpecs);\n      _get__(\"requestData\")(componentId, dataSpecsToUpdate, dataSpecsConfiguredContextVars, metadata, changedDataSpecs, dispatch, doNotRequestData);\n    }\n    dataSpecsResolvedContextVarsRef.current = dataSpecsResolvedContextVars;\n  }, [JSON.stringify(dataSpecsResolvedContextVars)]);\n  const {\n    data,\n    statuses\n  } = _get__(\"useTypedSelector\")(state => {\n    let result = {\n      data: {},\n      statuses: {}\n    };\n    let hasSubDataSource = false;\n    if (!metadata) return result;\n\n    // Check if the dataSourceArray has shared dataDestinationFieldName and return array of shared names\n    const getSharedNamesFromDataSourceArray = dataSourceArray => {\n      const setValues = new Set();\n      const sharedNames = [];\n      dataSourceArray.forEach(dataSource => {\n        const dataDestinationFieldName = dataSource.dataDestinationFieldName;\n        if (setValues.has(dataDestinationFieldName)) {\n          sharedNames.push(dataDestinationFieldName);\n        }\n        setValues.add(dataDestinationFieldName);\n      });\n      return sharedNames;\n    };\n    const dataSourceMap = _get__(\"getDataSourceMap\")(componentId, dataSpecs, dataSpecsConfiguredContextVars, metadata || {}) || {};\n    /*\n     * If there are more than one dataSource and they share the same destination name\n     * that means there are subDataSources\n     * We need to create a map inside result.data to accommodate subDataSources\n     */\n    const namesForSubDataSource = Object.keys(dataSourceMap).length > 1 ? getSharedNamesFromDataSourceArray(Object.values(dataSourceMap)) : [];\n    if ((namesForSubDataSource === null || namesForSubDataSource === void 0 ? void 0 : namesForSubDataSource.length) > 0) {\n      result.data = {};\n      hasSubDataSource = true;\n    }\n    result = Object.keys(dataSourceMap).reduce((result, dataSourceId) => {\n      const dataDestinationFieldName = dataSourceMap[dataSourceId].dataDestinationFieldName;\n      const dataSpecFieldName = dataSourceMap[dataSourceId].dataSpecFieldName;\n      const dsMetadata = state.getIn(['metadata', 'dataSources', 'byId', dataSourceId]);\n      const data = state.getIn(['entities', 'modified', dataSourceId]);\n      /*\n       * If we have subDataSources, we will put a map into result.data[dataDestinationFieldName]\n       * and the map key will be subDataSources name, value will be its value\n       * For example, metricTile can have up to 3 subDataSources, therefore the result object should look like:\n       * result: {\n       *  data: {\n       *    dataCollection: {\n       *      historicSparkline: {}, // some data\n       *      forecastSparkline: {}, // some data\n       *      planSparkline: {} //some data\n       *     }\n       *   }\n       * }\n       */\n      if (hasSubDataSource && namesForSubDataSource !== null && namesForSubDataSource !== void 0 && namesForSubDataSource.includes(dataDestinationFieldName)) {\n        const actionId = dataSourceMap[dataSourceId].actionId;\n        // If no actionId, ignore this entry\n        if (!actionId) {\n          return result;\n        }\n        const dataMappingDataSource = actionId;\n        const path = [dataDestinationFieldName, dataMappingDataSource];\n        _get__(\"set\")(metadata, path, data);\n        if (!result.data[dataDestinationFieldName]) {\n          result.data[dataDestinationFieldName] = {};\n        }\n        result.data[dataDestinationFieldName][dataMappingDataSource] = _get__(\"normalizeImmutable\")(data);\n\n        // If its not subDataSource, we will directly set the data to result.data[dataDestinationFieldName]\n      } else {\n        _get__(\"set\")(metadata, dataDestinationFieldName, data);\n        result.data[dataDestinationFieldName] = _get__(\"normalizeImmutable\")(data);\n      }\n      result.statuses[dataDestinationFieldName] = (dsMetadata === null || dsMetadata === void 0 ? void 0 : dsMetadata.status) || 'INITIAL';\n      if (dataMergeFunction != undefined) {\n        result.data = _get__(\"merge\")(result.data, dataMergeFunction(componentId, dataSpecFieldName, dataDestinationFieldName, result.data, state));\n      }\n      return result;\n    }, result);\n    return result;\n  }, (prev, next) => {\n    /**\n     * Our own equality function that checks if data and status are the same.\n     *\n     * We need this because the result object always has new data and statuses objects\n     * but the properties of them don't change as much over time.\n     *\n     * TODO: UI-4900 Remove the deep equal.\n     */\n    return _get__(\"isEqual\")(prev.data, next.data) && _get__(\"shallowEqual\")(prev.statuses, next.statuses);\n  });\n  return [data, statuses];\n};\nconst defaultValues = {};\nfunction _getGlobalObject() {\n  try {\n    if (!!__webpack_require__.g) {\n      return __webpack_require__.g;\n    }\n  } catch (e) {\n    try {\n      if (!!window) {\n        return window;\n      }\n    } catch (e) {\n      return this;\n    }\n  }\n}\n;\nvar _RewireModuleId__ = null;\nfunction _getRewireModuleId__() {\n  if (_RewireModuleId__ === null) {\n    let globalVariable = _getGlobalObject();\n    if (!globalVariable.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__) {\n      globalVariable.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__ = 0;\n    }\n    _RewireModuleId__ = __$$GLOBAL_REWIRE_NEXT_MODULE_ID__++;\n  }\n  return _RewireModuleId__;\n}\nfunction _getRewireRegistry__() {\n  let theGlobalVariable = _getGlobalObject();\n  if (!theGlobalVariable.__$$GLOBAL_REWIRE_REGISTRY__) {\n    theGlobalVariable.__$$GLOBAL_REWIRE_REGISTRY__ = Object.create(null);\n  }\n  return theGlobalVariable.__$$GLOBAL_REWIRE_REGISTRY__;\n}\nfunction _getRewireExportsRegistry__() {\n  let theGlobalVariable = _getGlobalObject();\n  if (!theGlobalVariable.__$$GLOBAL_REWIRE_EXPORTS_REGISTRY__) {\n    theGlobalVariable.__$$GLOBAL_REWIRE_EXPORTS_REGISTRY__ = Object.create(null);\n  }\n  return theGlobalVariable.__$$GLOBAL_REWIRE_EXPORTS_REGISTRY__;\n}\nconst _sync_internal_state_with_exports__ = false;\nconst _exports_to_reset__ = new Map();\nfunction _record_export_to_reset__(variableName, value) {\n  if (!_sync_internal_state_with_exports__) {\n    return;\n  }\n  if (!Object.prototype.hasOwnProperty.call(exports, variableName)) {\n    return;\n  }\n  if (!_exports_to_reset__.has(variableName)) {\n    _exports_to_reset__.set(variableName, value);\n  }\n}\nfunction _restore_exports__() {\n  const entries = _exports_to_reset__.entries();\n  for (const [variableName, value] of entries) {\n    exports[variableName] = value;\n  }\n  _exports_to_reset__.clear();\n}\nfunction _maybe_update_export__(variableName, value) {\n  if (!_sync_internal_state_with_exports__) {\n    return;\n  }\n  if (!Object.prototype.hasOwnProperty.call(exports, variableName)) {\n    return;\n  }\n  _record_export_to_reset__(variableName, exports[variableName]);\n  exports[variableName] = value;\n}\nfunction _getRewiredData__() {\n  let moduleId = _getRewireModuleId__();\n  let registry = _getRewireRegistry__();\n  let rewireData = registry[moduleId];\n  if (!rewireData) {\n    registry[moduleId] = Object.create(null);\n    rewireData = registry[moduleId];\n  }\n  let exportsRegistry = _getRewireExportsRegistry__();\n  if (!exportsRegistry[moduleId]) {\n    exportsRegistry[moduleId] = _restore_exports__;\n  }\n  return rewireData;\n}\n(function registerResetAll() {\n  let theGlobalVariable = _getGlobalObject();\n  if (!theGlobalVariable['__rewire_reset_all__']) {\n    theGlobalVariable['__rewire_reset_all__'] = function () {\n      theGlobalVariable.__$$GLOBAL_REWIRE_REGISTRY__ = Object.create(null);\n      const exportsRegistry = _getRewireExportsRegistry__();\n      for (const restoreFunc of Object.values(exportsRegistry)) {\n        restoreFunc();\n      }\n      theGlobalVariable.__$$GLOBAL_REWIRE_EXPORTS_REGISTRY__ = Object.create(null);\n    };\n  }\n})();\nvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\nlet _RewireAPI__ = {};\n(function () {\n  function addPropertyToAPIObject(name, value) {\n    Object.defineProperty(_RewireAPI__, name, {\n      value: value,\n      enumerable: false,\n      configurable: true\n    });\n  }\n  addPropertyToAPIObject('__get__', _get__);\n  addPropertyToAPIObject('__GetDependency__', _get__);\n  addPropertyToAPIObject('__Rewire__', _set__);\n  addPropertyToAPIObject('__set__', _set__);\n  addPropertyToAPIObject('__reset__', _reset__);\n  addPropertyToAPIObject('__ResetDependency__', _reset__);\n  addPropertyToAPIObject('__with__', _with__);\n})();\nfunction _get__(variableName) {\n  let rewireData = _getRewiredData__();\n  if (rewireData[variableName] === undefined) {\n    return _get_original__(variableName);\n  } else {\n    var value = rewireData[variableName];\n    if (value === INTENTIONAL_UNDEFINED) {\n      return undefined;\n    } else {\n      return value;\n    }\n  }\n}\nfunction _get_original__(variableName) {\n  switch (variableName) {\n    case \"isUndefined\":\n      return (lodash_isUndefined__WEBPACK_IMPORTED_MODULE_10___default());\n    case \"Iterable\":\n      return immutable__WEBPACK_IMPORTED_MODULE_2__.Iterable;\n    case \"withName\":\n      return _c3_ui_UiSdlLogger__WEBPACK_IMPORTED_MODULE_15__.withName;\n    case \"cloneDeep\":\n      return (lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_5___default());\n    case \"get\":\n      return (lodash_get__WEBPACK_IMPORTED_MODULE_4___default());\n    case \"forEachPartiallyAppliedActionInfo\":\n      return forEachPartiallyAppliedActionInfo;\n    case \"getCollectionDataSourceId\":\n      return _c3_ui_UiSdlConnected__WEBPACK_IMPORTED_MODULE_13__.getCollectionDataSourceId;\n    case \"shouldRequestDataOnFirstRender\":\n      return shouldRequestDataOnFirstRender;\n    case \"extend\":\n      return (lodash_extend__WEBPACK_IMPORTED_MODULE_9___default());\n    case \"updateDataConfigAction\":\n      return _c3_ui_UiSdlDataRedux__WEBPACK_IMPORTED_MODULE_14__.updateDataConfigAction;\n    case \"isEmpty\":\n      return (lodash_isEmpty__WEBPACK_IMPORTED_MODULE_7___default());\n    case \"mergeArgumentsAction\":\n      return _c3_ui_UiSdlDataRedux__WEBPACK_IMPORTED_MODULE_14__.mergeArgumentsAction;\n    case \"requestDataAction\":\n      return _c3_ui_UiSdlDataRedux__WEBPACK_IMPORTED_MODULE_14__.requestDataAction;\n    case \"isEqual\":\n      return (lodash_isEqual__WEBPACK_IMPORTED_MODULE_8___default());\n    case \"ignoreContextVarsOnce\":\n      return ignoreContextVarsOnce;\n    case \"ignoreContextVarsAlways\":\n      return ignoreContextVarsAlways;\n    case \"shallowEqual\":\n      return react_redux__WEBPACK_IMPORTED_MODULE_1__.shallowEqual;\n    case \"useRef\":\n      return react__WEBPACK_IMPORTED_MODULE_0__.useRef;\n    case \"useStore\":\n      return react_redux__WEBPACK_IMPORTED_MODULE_1__.useStore;\n    case \"useReducer\":\n      return react__WEBPACK_IMPORTED_MODULE_0__.useReducer;\n    case \"useEffect\":\n      return react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\n    case \"stateUpdates\":\n      return _c3_app_ui_src_reducerRegistry__WEBPACK_IMPORTED_MODULE_17__.stateUpdates;\n    case \"useSelectedState\":\n      return useSelectedState;\n    case \"each\":\n      return (lodash_each__WEBPACK_IMPORTED_MODULE_3___default());\n    case \"extractParamValue\":\n      return _c3_ui_UiSdlDynamicValueSpec__WEBPACK_IMPORTED_MODULE_12__.extractParamValue;\n    case \"useDispatch\":\n      return _c3_ui_UiSdlUseDispatch__WEBPACK_IMPORTED_MODULE_16__.useDispatch;\n    case \"useTypedSelector\":\n      return useTypedSelector;\n    case \"addResolvedContextVars\":\n      return addResolvedContextVars;\n    case \"requestData\":\n      return requestData;\n    case \"compareDataSpecsAndFindDiff\":\n      return compareDataSpecsAndFindDiff;\n    case \"getChangedDataSpecs\":\n      return getChangedDataSpecs;\n    case \"getDataSourceMap\":\n      return getDataSourceMap;\n    case \"set\":\n      return (lodash_set__WEBPACK_IMPORTED_MODULE_6___default());\n    case \"normalizeImmutable\":\n      return normalizeImmutable;\n    case \"merge\":\n      return (lodash_merge__WEBPACK_IMPORTED_MODULE_11___default());\n  }\n  return undefined;\n}\nfunction _assign__(variableName, value) {\n  let rewireData = _getRewiredData__();\n  if (rewireData[variableName] === undefined) {\n    return _set_original__(variableName, value);\n  } else {\n    _maybe_update_export__(variableName, value);\n    return rewireData[variableName] = value;\n  }\n}\nfunction _set_original__(variableName, _value) {\n  switch (variableName) {}\n  return undefined;\n}\nfunction _update_operation__(operation, variableName, prefix) {\n  var oldValue = _get__(variableName);\n  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n  _assign__(variableName, newValue);\n  return prefix ? newValue : oldValue;\n}\nfunction _set__(variableName, value) {\n  let rewireData = _getRewiredData__();\n  if (typeof variableName === 'object') {\n    Object.keys(variableName).forEach(function (name) {\n      rewireData[name] = variableName[name];\n    });\n    return function () {\n      Object.keys(variableName).forEach(function (name) {\n        _reset__(variableName);\n      });\n    };\n  } else {\n    _maybe_update_export__(variableName, value);\n    if (value === undefined) {\n      rewireData[variableName] = INTENTIONAL_UNDEFINED;\n    } else {\n      rewireData[variableName] = value;\n    }\n    return function () {\n      _reset__(variableName);\n    };\n  }\n}\nfunction _reset__(variableName) {\n  let rewireData = _getRewiredData__();\n  delete rewireData[variableName];\n  if (Object.keys(rewireData).length == 0) {\n    delete _getRewireRegistry__()[_getRewireModuleId__];\n  }\n  if (_exports_to_reset__.has(variableName)) {\n    exports[variableName] = _exports_to_reset__.get(variableName);\n    _exports_to_reset__.delete(variableName);\n  }\n}\nfunction _with__(object) {\n  let rewireData = _getRewiredData__();\n  var rewiredVariableNames = Object.keys(object);\n  var previousValues = {};\n  function reset() {\n    rewiredVariableNames.forEach(function (variableName) {\n      rewireData[variableName] = previousValues[variableName];\n    });\n  }\n  return function (callback) {\n    rewiredVariableNames.forEach(function (variableName) {\n      previousValues[variableName] = rewireData[variableName];\n      rewireData[variableName] = object[variableName];\n    });\n    let result = callback();\n    if (!!result && typeof result.then == 'function') {\n      result.then(reset).catch(reset);\n    } else {\n      reset();\n    }\n    return result;\n  };\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_RewireAPI__);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGMzL3VpL1VpU2RsVXNlRGF0YS50c191aUluZnJhc3RydWN0dXJlIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXNEO0FBQ3FCO0FBQ2pDO0FBQ1g7QUFDRjtBQUNZO0FBQ1o7QUFDUTtBQUNBO0FBQ0Y7QUFDVTtBQUNaO0FBU2dDO0FBQ0M7QUFDc0M7QUFDMUQ7QUFDUTtBQUNROztBQUU5RDs7QUFFTyxNQUFNdUIsa0JBQWtCLEdBQUlDLGNBQW1CLElBQVU7RUFDOUQsSUFBSSxDQUFDQyxNQUFBLGdCQUFZRCxjQUFjLENBQUMsRUFBRTtJQUNoQyxJQUFJQyxNQUFBLGFBQVNDLFVBQVUsQ0FBQ0YsY0FBYyxDQUFDLEVBQUU7TUFDdkMsT0FBT0EsY0FBYyxDQUFDRyxJQUFJLENBQUMsQ0FBQztJQUM5QjtJQUVBLE9BQU9ILGNBQWM7RUFDdkI7RUFFQSxPQUFPLElBQUk7QUFDYixDQUFDO0FBc0JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sTUFBTUksaUNBQWlDLEdBQUdBLENBQy9DQyxXQUFtQixFQUNuQkMsUUFBZ0MsRUFDaENDLFdBQXdCLEVBQ3hCQyxNQUF5QixFQUN6QkMsWUFBa0QsRUFDbERDLGlCQUF5QixFQUN6QkMsUUFBK0UsS0FDdEU7RUFBQSxJQUFBQyxxQkFBQSxFQUFBQyxzQkFBQTtFQUNULElBQUlDLDJCQUE4RDtFQUNsRVIsUUFBUSxDQUFDQyxXQUFXLEdBQUdBLFdBQVc7RUFDbEMsSUFBSUQsUUFBUSxDQUFDUyxnQkFBZ0IsRUFBRTtJQUM3QjtJQUNBLElBQUlOLFlBQVksQ0FBQ08sY0FBYyxDQUFDLG1DQUFtQyxDQUFDLEVBQUU7TUFDcEU7TUFDQUYsMkJBQTJCLEdBQUlMLFlBQVksQ0FBNEJRLGlDQUFpQyxDQUN0R1gs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b0JBQUEsR0FBQXJILE1BQUEsQ0FBQUMsSUFBQSxDQUFBbUgsTUFBQTtFQUFBLElBQUFFLGNBQUE7RUFBQSxTQUFBQyxNQUFBO0lBQUFGLG9CQUFBLENBQUF2SyxPQUFBLFdBQUFvSSxZQUFBO01BQUFXLFVBQUEsQ0FBQVgsWUFBQSxJQUFBb0MsY0FBQSxDQUFBcEMsWUFBQTtJQUFBO0VBQUE7RUFBQSxpQkFBQXNDLFFBQUE7SUFBQUgsb0JBQUEsQ0FBQXZLLE9BQUEsV0FBQW9JLFlBQUE7TUFBQW9DLGNBQUEsQ0FBQXBDLFlBQUEsSUFBQVcsVUFBQSxDQUFBWCxZQUFBO01BQUFXLFVBQUEsQ0FBQVgsWUFBQSxJQUFBa0MsTUFBQSxDQUFBbEMsWUFBQTtJQUFBO0lBQUEsSUFBQXRELE1BQUEsR0FBQTRGLFFBQUE7SUFBQSxNQUFBNUYsTUFBQSxXQUFBQSxNQUFBLENBQUE2RixJQUFBO01BQUE3RixNQUFBLENBQUE2RixJQUFBLENBQUFGLEtBQUEsRUFBQUcsS0FBQSxDQUFBSCxLQUFBO0lBQUE7TUFBQUEsS0FBQTtJQUFBO0lBQUEsT0FBQTNGLE1BQUE7RUFBQTtBQUFBO0FBQUE7QUFBQSxpRUFBQXNFLFlBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91aUluZnJhc3RydWN0dXJlLy4vbm9kZV9tb2R1bGVzL0BjMy91aS9VaVNkbFVzZURhdGEudHM/YTE2MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IDIwMDktMjAyNCBDMyBBSSAod3d3LmMzLmFpKS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFRoaXMgbWF0ZXJpYWwsIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gYW55IHNvZnR3YXJlLCBpcyB0aGUgY29uZmlkZW50aWFsIHRyYWRlIHNlY3JldCBhbmQgcHJvcHJpZXRhcnlcbiAqIGluZm9ybWF0aW9uIG9mIEMzIGFuZCBpdHMgbGljZW5zb3JzLiBSZXByb2R1Y3Rpb24sIHVzZSBhbmQvb3IgZGlzdHJpYnV0aW9uIG9mIHRoaXMgbWF0ZXJpYWwgaW4gYW55IGZvcm0gaXNcbiAqIHN0cmljdGx5IHByb2hpYml0ZWQgZXhjZXB0IGFzIHNldCBmb3J0aCBpbiBhIHdyaXR0ZW4gbGljZW5zZSBhZ3JlZW1lbnQgd2l0aCBDMyBhbmQvb3IgaXRzIGF1dGhvcml6ZWQgZGlzdHJpYnV0b3JzLlxuICogVGhpcyBtYXRlcmlhbCBtYXkgYmUgY292ZXJlZCBieSBvbmUgb3IgbW9yZSBwYXRlbnRzIG9yIHBlbmRpbmcgcGF0ZW50IGFwcGxpY2F0aW9ucy5cbiAqL1xuXG5pbXBvcnQgeyB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlUmVkdWNlciB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFR5cGVkVXNlU2VsZWN0b3JIb29rLCBzaGFsbG93RXF1YWwsIHVzZVN0b3JlIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgSXRlcmFibGUsIE1hcCB9IGZyb20gJ2ltbXV0YWJsZSc7XG5pbXBvcnQgZWFjaCBmcm9tICdsb2Rhc2gvZWFjaCc7XG5pbXBvcnQgZ2V0IGZyb20gJ2xvZGFzaC9nZXQnO1xuaW1wb3J0IGNsb25lRGVlcCBmcm9tICdsb2Rhc2gvY2xvbmVEZWVwJztcbmltcG9ydCBzZXQgZnJvbSAnbG9kYXNoL3NldCc7XG5pbXBvcnQgaXNFbXB0eSBmcm9tICdsb2Rhc2gvaXNFbXB0eSc7XG5pbXBvcnQgaXNFcXVhbCBmcm9tICdsb2Rhc2gvaXNFcXVhbCc7XG5pbXBvcnQgZXh0ZW5kIGZyb20gJ2xvZGFzaC9leHRlbmQnO1xuaW1wb3J0IGlzVW5kZWZpbmVkIGZyb20gJ2xvZGFzaC9pc1VuZGVmaW5lZCc7XG5pbXBvcnQgbWVyZ2UgZnJvbSAnbG9kYXNoL21lcmdlJztcbmltcG9ydCB7XG4gIFdpdGhDb250ZXh0VmFycyxcbiAgVWlTZGxQYXJ0aWFsbHlBcHBsaWVkQWN0aW9uSW5mbyxcbiAgVWlTZGxSZWR1eFN0YXRlLFxuICBVaVNkbERhdGFTcGVjRGV0YWlscyxcbiAgVWlTZGxVc2VEYXRhU3RhdHVzLFxuICBVaVNkbENvbXBvbmVudERhdGFTcGVjLFxufSBmcm9tICdAYzMvdHlwZXMnO1xuaW1wb3J0IHsgZXh0cmFjdFBhcmFtVmFsdWUgfSBmcm9tICdAYzMvdWkvVWlTZGxEeW5hbWljVmFsdWVTcGVjJztcbmltcG9ydCB7IGdldENvbGxlY3Rpb25EYXRhU291cmNlSWQgfSBmcm9tICdAYzMvdWkvVWlTZGxDb25uZWN0ZWQnO1xuaW1wb3J0IHsgbWVyZ2VBcmd1bWVudHNBY3Rpb24sIHJlcXVlc3REYXRhQWN0aW9uLCB1cGRhdGVEYXRhQ29uZmlnQWN0aW9uIH0gZnJvbSAnQGMzL3VpL1VpU2RsRGF0YVJlZHV4JztcbmltcG9ydCB7IHdpdGhOYW1lIH0gZnJvbSAnQGMzL3VpL1VpU2RsTG9nZ2VyJztcbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAnQGMzL3VpL1VpU2RsVXNlRGlzcGF0Y2gnO1xuaW1wb3J0IHsgc3RhdGVVcGRhdGVzIH0gZnJvbSAnQGMzL2FwcC91aS9zcmMvcmVkdWNlclJlZ2lzdHJ5JztcblxuLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L2V4cG9ydHMtbGFzdCAqL1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplSW1tdXRhYmxlID0gKG1heWJlSW1tdXRhYmxlOiBhbnkpOiBhbnkgPT4ge1xuICBpZiAoIWlzVW5kZWZpbmVkKG1heWJlSW1tdXRhYmxlKSkge1xuICAgIGlmIChJdGVyYWJsZS5pc0l0ZXJhYmxlKG1heWJlSW1tdXRhYmxlKSkge1xuICAgICAgcmV0dXJuIG1heWJlSW1tdXRhYmxlLnRvSlMoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF5YmVJbW11dGFibGU7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbnR5cGUgQ29tcG9uZW50TWV0YWRhdGEgPSB7IFtmaWVsZE5hbWU6IHN0cmluZ106IGFueSB9O1xudHlwZSBEYXRhU291cmNlTWFwID0ge1xuICBbZGF0YVNvdXJjZUlkOiBzdHJpbmddOiBEYXRhU291cmNlO1xufTtcbnR5cGUgRGF0YVNvdXJjZSA9IHtcbiAgZGF0YURlc3RpbmF0aW9uRmllbGROYW1lOiBzdHJpbmc7XG4gIGRhdGFTcGVjRmllbGROYW1lOiBzdHJpbmc7XG4gIGFjdGlvbklkOiBzdHJpbmc7XG59O1xudHlwZSBDb250ZXh0VmFycyA9IFdpdGhDb250ZXh0VmFyc1snY29udGV4dFZhcnMnXTtcbnR5cGUgRGF0YVNwZWNzQ29udGV4dFZhcnMgPSB7IFtkYXRhU3BlY0ZpZWxkTmFtZTogc3RyaW5nXTogQ29udGV4dFZhcnMgfTtcbnR5cGUgRGF0YVNwZWNzQ29uZmlndXJlZEFuZFJlc29sdmVkQ29udGV4dFZhcnNNYXAgPSB7XG4gIGRhdGFTcGVjc0NvbmZpZ3VyZWRDb250ZXh0VmFyczogRGF0YVNwZWNzQ29udGV4dFZhcnM7XG4gIGRhdGFTcGVjc1Jlc29sdmVkQ29udGV4dFZhcnM6IERhdGFTcGVjc0NvbnRleHRWYXJzO1xuICBhbGxEYXRhU3BlY3M6IGFueTtcbn07XG50eXBlIFVpRGF0YURhdGFNYXAgPSB7IFtmaWVsZE5hbWU6IHN0cmluZ106IGFueSB9O1xudHlwZSBVaURhdGFTdGF0dXNNYXAgPSB7IFtmaWVsZE5hbWU6IHN0cmluZ106IFVpU2RsVXNlRGF0YVN0YXR1cyB9O1xudHlwZSBVaURhdGFBbmRTdGF0dXNlc01hcHMgPSB7IGRhdGE6IFVpRGF0YURhdGFNYXA7IHN0YXR1c2VzOiBVaURhdGFTdGF0dXNNYXAgfTtcblxuLyoqXG4gKiBJdGVyYXRlcyBvdmVyIGFsbCBwYXJ0aWFsbHkgYXBwbGllZCBhY3Rpb24gaW5mbyBvYmplY3RzIGZvciB0aGUgZ2l2ZW4gY29tcG9uZW50IGRhdGEgc3BlYy5cbiAqIEBwYXJhbSBjb21wb25lbnRJZCBUaGUgaWQgb2YgdGhlIGNvbXBvbmVudCB0byB3aGljaCB0aGlzIGRhdGEgYmVsb25ncy5cbiAqIEBwYXJhbSBkYXRhU3BlYyBUaGUgZGF0YSBzcGVjIGZvciB0aGlzIGNvbXBvbmVudC5cbiAqIEBwYXJhbSBjb250ZXh0VmFycyBUaGUgY29udGV4dFZhcnMgb2YgdGhlIGRhdGEgc3BlYyBmb3IgdGhpcyBjb21wb25lbnQuXG4gKiBAcGFyYW0gY29uZmlnIFRoZSBmdWxsIGNvbmZpZ3VyYXRpb24gb2YgdGhpcyBjb21wb25lbnQuXG4gKiBAcGFyYW0gZGF0YVNwZWNUeXBlIFRoZSBDMyB0eXBlIChFUyBtb2R1bGUpXG4gKiBAcGFyYW0gZGF0YVNwZWNGaWVsZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGZpZWxkIGZvciB0aGlzIGRhdGEgc3BlYy5cbiAqIEBwYXJhbSBpdGVyYXRvciBBbiBpdGVyYXRvciB0byBiZSBjYWxsZWQgZm9yIGVhY2ggcGFydGlhbGx5IGFwcGxpZWQgYWN0aW9uLlxuICovXG5leHBvcnQgY29uc3QgZm9yRWFjaFBhcnRpYWxseUFwcGxpZWRBY3Rpb25JbmZvID0gKFxuICBjb21wb25lbnRJZDogc3RyaW5nLFxuICBkYXRhU3BlYzogVWlTZGxDb21wb25lbnREYXRhU3BlYyxcbiAgY29udGV4dFZhcnM6IENvbnRleHRWYXJzLFxuICBjb25maWc6IENvbXBvbmVudE1ldGFkYXRhLFxuICBkYXRhU3BlY1R5cGU6IFVpU2RsRGF0YVNwZWNEZXRhaWxzWydkYXRhU3BlY1R5cGUnXSxcbiAgZGF0YVNwZWNGaWVsZE5hbWU6IHN0cmluZyxcbiAgaXRlcmF0b3I6IChwYXJ0aWFsbHlBcHBsaWVkQWN0aW9uSW5mbzogVWlTZGxQYXJ0aWFsbHlBcHBsaWVkQWN0aW9uSW5mbykgPT4gdm9pZCxcbik6IHZvaWQgPT4ge1xuICBsZXQgcGFydGlhbGx5QXBwbGllZEFjdGlvbkluZm9zOiBVaVNkbFBhcnRpYWxseUFwcGxpZWRBY3Rpb25JbmZvW107XG4gIGRhdGFTcGVjLmNvbnRleHRWYXJzID0gY29udGV4dFZhcnM7XG4gIGlmIChkYXRhU3BlYy5hZHZhbmNlZERhdGFTcGVjKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgIGlmIChkYXRhU3BlY1R5cGUuaGFzT3duUHJvcGVydHkoJ3RvUGFydGlhbGx5QXBwbGllZEFkdmFuY2VkQWN0aW9ucycpKSB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE86IEVOR1ItMTAzNjkgRW5oYW5jZSB0eXBlc2NyaXB0IHR5cGVzIGdlbmVyYXRpb24gdG8gaW5jbHVkZSBtZXRob2RzXG4gICAgICBwYXJ0aWFsbHlBcHBsaWVkQWN0aW9uSW5mb3MgPSAoZGF0YVNwZWNUeXBlIGFzIFVpU2RsQ29tcG9uZW50RGF0YVNwZWMpLnRvUGFydGlhbGx5QXBwbGllZEFkdmFuY2VkQWN0aW9ucyhcbiAgICAgICAgZGF0YVNwZWMsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aXRoTmFtZSgnVWlTZGxVc2VEYXRhJykuZXJyb3IoXG4gICAgICAgIGAke2NvbXBvbmVudElkfTogXFxgYWR2YW5jZWREYXRhU3BlY1xcYCBpcyBub3QgYWxsb3dlZCBmb3IgZGF0YSBzcGVjIHR5cGVzIHRoYXQgZG8gbm90IGltcGxlbWVudCBcXGB0b1BhcnRpYWxseUFwcGxpZWRBZHZhbmNlZEFjdGlvbnNcXGAuIChkYXRhIHNwZWMgZmllbGQ6ICcke2RhdGFTcGVjRmllbGROYW1lfScpYCxcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgfSBlbHNlIGlmIChkYXRhU3BlY1R5cGUuaGFzT3duUHJvcGVydHkoJ3RvUGFydGlhbGx5QXBwbGllZEFjdGlvbnMnKSkge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ETzogRU5HUi0xMDM2OSBFbmhhbmNlIHR5cGVzY3JpcHQgdHlwZXMgZ2VuZXJhdGlvbiB0byBpbmNsdWRlIG1ldGhvZHNcbiAgICBwYXJ0aWFsbHlBcHBsaWVkQWN0aW9uSW5mb3MgPSAoZGF0YVNwZWNUeXBlIGFzIFVpU2RsQ29tcG9uZW50RGF0YVNwZWMpLnRvUGFydGlhbGx5QXBwbGllZEFjdGlvbnMoZGF0YVNwZWMsIGNvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgd2l0aE5hbWUoJ1VpU2RsVXNlRGF0YScpLmVycm9yKFxuICAgICAgYCR7Y29tcG9uZW50SWR9OiBNZXRob2QgXFxgdG9QYXJ0aWFsbHlBcHBsaWVkQWN0aW9uc1xcYCBpcyBub3QgZGVmaW5lZCBvbiB0eXBlIGZvciBkYXRhIHNwZWMgZmllbGQgJyR7ZGF0YVNwZWNGaWVsZE5hbWV9Jy5gLFxuICAgICk7XG4gIH1cblxuICBjb25zdCByZXF1aXJlQWN0aW9uSWQgPSBwYXJ0aWFsbHlBcHBsaWVkQWN0aW9uSW5mb3M/Lmxlbmd0aCA+IDE7XG5cbiAgcGFydGlhbGx5QXBwbGllZEFjdGlvbkluZm9zPy5mb3JFYWNoKChwYXJ0aWFsbHlBcHBsaWVkQWN0aW9uSW5mbzogVWlTZGxQYXJ0aWFsbHlBcHBsaWVkQWN0aW9uSW5mbyk6IHZvaWQgPT4ge1xuICAgIGlmICghcGFydGlhbGx5QXBwbGllZEFjdGlvbkluZm8uYWN0aW9uSWQgJiYgcmVxdWlyZUFjdGlvbklkKSB7XG4gICAgICB3aXRoTmFtZSgnVWlTZGxVc2VEYXRhJykuZXJyb3IoXG4gICAgICAgIGNvbXBvbmVudElkICtcbiAgICAgICAgICAnOiBVaVNkbFBhcnRpYWxseUFwcGxpZWRBY3Rpb25JbmZvLmFjdGlvbklkIGlzIHJlcXVpcmVkIGZvciBjb21wb25lbnRzIHdpdGggbXVsdGlwbGUgUGFydGlhbHlBcHBsaWVkQWN0aW9uSW5mb3MuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaXRlcmF0b3IuY2FsbChudWxsLCBwYXJ0aWFsbHlBcHBsaWVkQWN0aW9uSW5mbyk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldERhdGFTb3VyY2VNYXAgPSAoXG4gIGNvbXBvbmVudElkOiBzdHJpbmcsXG4gIGRhdGFTcGVjczogVWlTZGxEYXRhU3BlY0RldGFpbHNbXSxcbiAgZGF0YVNwZWNzQ29uZmlndXJlZENvbnRleHRWYXJzOiBEYXRhU3BlY3NDb250ZXh0VmFycyxcbiAgY29uZmlnOiBDb21wb25lbnRNZXRhZGF0YSxcbik6IERhdGFTb3VyY2VNYXAgPT4ge1xuICByZXR1cm4gZGF0YVNwZWNzLnJlZHVjZSgoZGF0YVNvdXJjZU1hcCwgeyBkYXRhU3BlY0ZpZWxkTmFtZSwgZGF0YVNwZWNUeXBlLCBkYXRhRGVzdGluYXRpb25GaWVsZE5hbWUgfSkgPT4ge1xuICAgIGlmICghZGF0YVNwZWNUeXBlKSByZXR1cm4gZGF0YVNvdXJjZU1hcDtcblxuICAgIGNvbnN0IGRhdGFTcGVjID0gY2xvbmVEZWVwKGdldChjb25maWcsIGRhdGFTcGVjRmllbGROYW1lKSk7XG4gICAgY29uc3QgY29udGV4dFZhcnMgPSBkYXRhU3BlY3NDb25maWd1cmVkQ29udGV4dFZhcnNbZGF0YVNwZWNGaWVsZE5hbWVdO1xuICAgIGlmICghZGF0YVNwZWMpIHJldHVybiBkYXRhU291cmNlTWFwO1xuXG4gICAgZm9yRWFjaFBhcnRpYWxseUFwcGxpZWRBY3Rpb25JbmZvKFxuICAgICAgY29tcG9uZW50SWQsXG4gICAgICBkYXRhU3BlYyxcbiAgICAgIGNvbnRleHRWYXJzLFxuICAgICAgY29uZmlnLFxuICAgICAgZGF0YVNwZWNUeXBlLFxuICAgICAgZGF0YVNwZWNGaWVsZE5hbWUsXG4gICAgICAocGFydGlhbGx5QXBwbGllZEFjdGlvbkluZm8pID0+IHtcbiAgICAgICAgY29uc3QgcGFydGlhbGx5QXBwbGllZEFjdGlvbklkID0gcGFydGlhbGx5QXBwbGllZEFjdGlvbkluZm8uYWN0aW9uSWQgfHwgZGF0YVNwZWNGaWVsZE5hbWU7XG4gICAgICAgIGNvbnN0IGRhdGFTb3VyY2VJZCA9IGdldENvbGxlY3Rpb25EYXRhU291cmNlSWQocGFydGlhbGx5QXBwbGllZEFjdGlvbklkLCBjb21wb25lbnRJZCk7XG5cbiAgICAgICAgZGF0YVNvdXJjZU1hcFtkYXRhU291cmNlSWRdID0ge1xuICAgICAgICAgIGRhdGFEZXN0aW5hdGlvbkZpZWxkTmFtZTogZGF0YURlc3RpbmF0aW9uRmllbGROYW1lLFxuICAgICAgICAgIGRhdGFTcGVjRmllbGROYW1lOiBkYXRhU3BlY0ZpZWxkTmFtZSxcbiAgICAgICAgICBhY3Rpb25JZDogcGFydGlhbGx5QXBwbGllZEFjdGlvbklkLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICApO1xuXG4gICAgcmV0dXJuIGRhdGFTb3VyY2VNYXA7XG4gIH0sIHt9IGFzIERhdGFTb3VyY2VNYXApO1xufTtcblxuZXhwb3J0IGNvbnN0IHNob3VsZFJlcXVlc3REYXRhT25GaXJzdFJlbmRlciA9IChjb25maWcsIGRhdGFTcGVjLCBkYXRhU3BlY1R5cGUsIGNoYW5nZWREYXRhU3BlY3MpID0+IHtcbiAgcmV0dXJuIChcbiAgICAoIWNvbmZpZy5kaXNhYmxlRGF0YVJlcXVlc3RPbkZpcnN0UmVuZGVyICYmXG4gICAgICAvLyBDaGVjayBwZXIgdGhpcyBzcGVjaWZpYyBkYXRhIHNwZWNcbiAgICAgICEoZGF0YVNwZWM/LmRpc2FibGVEYXRhUmVxdWVzdE9uRmlyc3RSZW5kZXIgPz8gZGF0YVNwZWNUeXBlLmRlZmF1bHRWYWx1ZXM/LmRpc2FibGVEYXRhUmVxdWVzdE9uRmlyc3RSZW5kZXIpKSB8fFxuICAgIGNoYW5nZWREYXRhU3BlY3M/Lmxlbmd0aCA+IDBcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXF1ZXN0RGF0YSA9IChcbiAgY29tcG9uZW50SWQ6IHN0cmluZyxcbiAgZGF0YVNwZWNzOiBVaVNkbERhdGFTcGVjRGV0YWlsc1tdLFxuICBkYXRhU3BlY3NDb25maWd1cmVkQ29udGV4dFZhcnM6IERhdGFTcGVjc0NvbnRleHRWYXJzLFxuICBjb25maWc6IENvbXBvbmVudE1ldGFkYXRhLFxuICBjaGFuZ2VkRGF0YVNwZWNzOiBzdHJpbmdbXSxcbiAgZGlzcGF0Y2g6IFJldHVyblR5cGU8dHlwZW9mIHVzZURpc3BhdGNoPixcbiAgZG9Ob3RSZXF1ZXN0RGF0YTogc3RyaW5nW10sXG4pOiB2b2lkID0+IHtcbiAgZGF0YVNwZWNzLmZvckVhY2goKHsgZGF0YVNwZWNGaWVsZE5hbWUsIGRhdGFTcGVjVHlwZSB9KSA9PiB7XG4gICAgaWYgKCFkYXRhU3BlY1R5cGUpIHJldHVybjtcblxuICAgIGNvbnN0IGRhdGFTcGVjID0gY2xvbmVEZWVwKGdldChjb25maWcsIGRhdGFTcGVjRmllbGROYW1lKSk7XG4gICAgY29uc3QgY29udGV4dFZhcnMgPSBkYXRhU3BlY3NDb25maWd1cmVkQ29udGV4dFZhcnNbZGF0YVNwZWNGaWVsZE5hbWVdO1xuICAgIGlmICghZGF0YVNwZWMpIHJldHVybjtcblxuICAgIGZvckVhY2hQYXJ0aWFsbHlBcHBsaWVkQWN0aW9uSW5mbyhcbiAgICAgIGNvbXBvbmVudElkLFxuICAgICAgZGF0YVNwZWMsXG4gICAgICBjb250ZXh0VmFycyxcbiAgICAgIGNvbmZpZyxcbiAgICAgIGRhdGFTcGVjVHlwZSxcbiAgICAgIGRhdGFTcGVjRmllbGROYW1lLFxuICAgICAgKHBhcnRpYWxseUFwcGxpZWRBY3Rpb25JbmZvKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcnRpYWxseUFwcGxpZWRBY3Rpb25JZCA9IHBhcnRpYWxseUFwcGxpZWRBY3Rpb25JbmZvLmFjdGlvbklkIHx8IGRhdGFTcGVjRmllbGROYW1lO1xuICAgICAgICBjb25zdCBkYXRhU291cmNlSWQgPSBnZXRDb2xsZWN0aW9uRGF0YVNvdXJjZUlkKHBhcnRpYWxseUFwcGxpZWRBY3Rpb25JZCwgY29tcG9uZW50SWQpO1xuXG4gICAgICAgIC8vIElmIGFueSBwYXJ0IG9mIHRoZSBjb21wb25lbnQgdHJlZSBkb2VzIG5vdCB3YW50IHRoaXMgVUlEYXRhUmVkdXggdG8gbWFrZSBhIHJlcXVlc3Qgb24gcmVuZGVyLCBibG9jayBpdFxuICAgICAgICBjb25zdCByZXF1ZXN0T25GaXJzdFJlbmRlciA9IHNob3VsZFJlcXVlc3REYXRhT25GaXJzdFJlbmRlcihjb25maWcsIGRhdGFTcGVjLCBkYXRhU3BlY1R5cGUsIGNoYW5nZWREYXRhU3BlY3MpO1xuXG4gICAgICAgIC8vIE9ubHkgZGlzcGF0Y2ggdGhlIHJlcXVlc3QgZGF0YSBhY3Rpb24gd2hlbiB0aGVyZSBpcyBlbm91Z2ggbWV0YWRhdGEgdG8gZG8gc28gYW5kIHJlcXVlc3QgaXMgbm90IGRpc2FibGVkLlxuICAgICAgICBjb25zdCB7IHBhcnRpYWxseUFwcGxpZWRBY3Rpb24sIHR1bm5lbENvbmZpZ3VyYXRpb24gfSA9IHBhcnRpYWxseUFwcGxpZWRBY3Rpb25JbmZvO1xuXG4gICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IGV4dGVuZCh7fSwgcGFydGlhbGx5QXBwbGllZEFjdGlvbik7XG5cbiAgICAgICAgLy8gTWVyZ2UgZGVmYXVsdCBkYXRhVHJhbnNmb3Jtc1xuICAgICAgICBpZiAocGFydGlhbGx5QXBwbGllZEFjdGlvbkluZm8uZGF0YVRyYW5zZm9ybXMpIHtcbiAgICAgICAgICBuZXdDb25maWcuZGF0YVRyYW5zZm9ybXMgPSBwYXJ0aWFsbHlBcHBsaWVkQWN0aW9uSW5mby5kYXRhVHJhbnNmb3JtcztcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhU3BlY1R5cGU/LmRlZmF1bHRWYWx1ZXM/LmRhdGFUcmFuc2Zvcm1zKSB7XG4gICAgICAgICAgbmV3Q29uZmlnLmRhdGFUcmFuc2Zvcm1zID0gZGF0YVNwZWNUeXBlLmRlZmF1bHRWYWx1ZXMuZGF0YVRyYW5zZm9ybXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNZXJnZSBkZWZhdWx0IGRhdGFTcGVjRGVwZW5kZW5jZVxuICAgICAgICBpZiAoZGF0YVNwZWNUeXBlPy5kZWZhdWx0VmFsdWVzPy5kYXRhU3BlY0RlcGVuZGVuY2UpIHtcbiAgICAgICAgICBuZXdDb25maWcuZGF0YVNwZWNEZXBlbmRlbmNlID0gZGF0YVNwZWNUeXBlLmRlZmF1bHRWYWx1ZXMuZGF0YVNwZWNEZXBlbmRlbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR1bm5lbENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICBleHRlbmQobmV3Q29uZmlnLCB7XG4gICAgICAgICAgICB0dW5uZWxDb25maWd1cmF0aW9uOiB0dW5uZWxDb25maWd1cmF0aW9uLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgICogU2V0IHRoZSBkYXRhIGNvbmZpZyBpbiBzdGF0ZSwgc28gaXQgaXMgYXZhaWxhYmxlIGlmL3doZW4gZGF0YSBpcyByZXF1ZXN0ZWQuXG4gICAgICAgICAqIEZhbGwgYmFjayB0byBkYXRhU3BlYyBjb250ZXh0VmFycyBpZiBvdGhlciBkYXRhU3BlYyBkb24ndCBoYXZlIGNvbnRleHRWYXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgdXBkYXRlRGF0YUNvbmZpZ0FjdGlvbihcbiAgICAgICAgICAgIGRhdGFTb3VyY2VJZCxcbiAgICAgICAgICAgIG5ld0NvbmZpZyxcbiAgICAgICAgICAgICFpc0VtcHR5KGNvbnRleHRWYXJzKSA/IGNvbnRleHRWYXJzIDogcGFydGlhbGx5QXBwbGllZEFjdGlvbkluZm8uY29udGV4dFZhcnMsXG4gICAgICAgICAgICBjb21wb25lbnRJZCxcbiAgICAgICAgICApLFxuICAgICAgICApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNZXJnZSBhcmd1bWVudHMgb2YgdGhlIHNwZWMgY2hhbmdlcy4gIFN0aWxsIG5lZWQgdG8gY2FsbCB0aGlzIGV2ZW4gdGhvdWdoIGFyZ3VtZW50cyBhcmUgYWRkZWQgaW4gYHVwZGF0ZURhdGFDb25maWdBY3Rpb25gLFxuICAgICAgICAgKiBiZWNhdXNlIGBhcmd1bWVudHNNZXJnZUVmZmVjdGAgZG9lcyBhIGRlZXAgbWVyZ2Ugb2YgdGhlIGFyZ3VtZW50c1xuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCFpc0VtcHR5KHBhcnRpYWxseUFwcGxpZWRBY3Rpb24uYXJncykpIHtcbiAgICAgICAgICBkaXNwYXRjaChtZXJnZUFyZ3VtZW50c0FjdGlvbihkYXRhU291cmNlSWQsIHBhcnRpYWxseUFwcGxpZWRBY3Rpb24uYXJncywgdW5kZWZpbmVkKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgcmVxdWVzdE9uRmlyc3RSZW5kZXIgJiZcbiAgICAgICAgICBwYXJ0aWFsbHlBcHBsaWVkQWN0aW9uLnR5cGVOYW1lICYmXG4gICAgICAgICAgcGFydGlhbGx5QXBwbGllZEFjdGlvbi5hY3Rpb25OYW1lICYmXG4gICAgICAgICAgIWRvTm90UmVxdWVzdERhdGE/LmluY2x1ZGVzKGRhdGFTcGVjRmllbGROYW1lKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBSZWFkIHRyYW5zZm9ybXMgZnJvbSB1c2VyL2RldmVsb3BlciBzdXBwbGllZCBjb25maWd1cmF0aW9uXG4gICAgICAgICAgY29uc3QgYWN0aW9uVHJhbnNmb3JtcyA9IGRhdGFTcGVjPy5kYXRhVHJhbnNmb3JtcyA/PyBkYXRhU3BlY1R5cGUuZGVmYXVsdFZhbHVlcz8uZGF0YVRyYW5zZm9ybXM7XG5cbiAgICAgICAgICBkaXNwYXRjaChyZXF1ZXN0RGF0YUFjdGlvbihkYXRhU291cmNlSWQsIGFjdGlvblRyYW5zZm9ybXMpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuICB9KTtcbn07XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjaGVja3MgdGhlIG1ldGFkYXRhIHRvIHNlZSBpZiB0aGUgZGF0YVNwZWMgcmVzb2x1dGlvbiBzaG91bGQgYmUgaWdub3JlZCBiYXNlZCBvbiBjb250ZXh0VmFyIHJlc29sdXRpb25cbiAqIHBhcmFtYXRlcnMgYW5kIHRoZSBleGlzdGluZyBkYXRhU3BlYyBjb250ZXh0VmFycy5cbiAqXG4gKiBAcGFyYW0gZGF0YVNwZWNzIGFycmF5IG9mIERhdGFTcGVjc0NvbnRleHRWYXJzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gZGlzcGF0Y2hlZFxuICogQHBhcmFtIG1ldGFkYXRhIG1ldGFkYXRhIG9mIHRoZSBjb21wb25lbnRcbiAqIEBwYXJhbSBjdXJyZW50RGF0YVNwZWMgdGhlIG5hbWUgb2YgdGhlIGRhdGFTcGVjIHRvIGxvb2sgYXRcbiAqIEByZXR1cm5zIGJvb2xlYW4gb2Ygd2hldGhlciB0aGUgZGF0YVNwZWMgc2hvdWxkIGJlIGlnbm9yZWRcbiAqL1xuY29uc3QgaWdub3JlQ29udGV4dFZhcnNPbmNlID0gKFxuICBkYXRhU3BlY3M6IERhdGFTcGVjc0NvbnRleHRWYXJzW10sXG4gIG1ldGFkYXRhOiBDb21wb25lbnRNZXRhZGF0YSxcbiAgY3VycmVudERhdGFTcGVjOiBzdHJpbmcsXG4pOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIG1ldGFkYXRhW2N1cnJlbnREYXRhU3BlY10/Lmlnbm9yZUZpcnN0Q29udGV4dFZhclJlc29sdXRpb24gJiYgaXNFbXB0eShkYXRhU3BlY3NbY3VycmVudERhdGFTcGVjXSk7XG59O1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIHRoZSBtZXRhZGF0YSB0byBzZWUgaWYgdGhlIGRhdGFTcGVjIHJlc29sdXRpb24gc2hvdWxkIGJlIGlnbm9yZWQgYmFzZWQgb24gY29udGV4dFZhciByZXNvbHV0aW9uXG4gKiBwYXJhbWF0ZXJzXG4gKlxuICogQHBhcmFtIG1ldGFkYXRhIG1ldGFkYXRhIG9mIHRoZSBjb21wb25lbnRcbiAqIEBwYXJhbSBjdXJyZW50RGF0YVNwZWMgdGhlIG5hbWUgb2YgdGhlIGRhdGFTcGVjIHRvIGxvb2sgYXRcbiAqIEByZXR1cm5zIGJvb2xlYW4gb2Ygd2hldGhlciB0aGUgZGF0YVNwZWMgc2hvdWxkIGJlIGlnbm9yZWRcbiAqL1xuY29uc3QgaWdub3JlQ29udGV4dFZhcnNBbHdheXMgPSAobWV0YWRhdGE6IENvbXBvbmVudE1ldGFkYXRhLCBjdXJyZW50RGF0YVNwZWM6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gbWV0YWRhdGFbY3VycmVudERhdGFTcGVjXT8uaWdub3JlQWxsQ29udGV4dFZhclJlc29sdXRpb247XG59O1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY29tcGFyZXMgY3VycmVudCBhbmQgcHJldmlvdXMgRGF0YVNwZWNzQ29udGV4dFZhcnMgYW5kIGZpbmQgdGhlIGNoYW5nZWQgZGF0YVNwZWNzXG4gKiBAcGFyYW0gY3VycmVudCBhcnJheSBvZiBEYXRhU3BlY3NDb250ZXh0VmFycyB0aGF0IHdpbGwgYmUgZGlzcGF0Y2hlZFxuICogQHBhcmFtIHByZXZpb3VzIGFycmF5IG9mIERhdGFTcGVjc0NvbnRleHRWYXJzIHRoYXQgd2FzIGRpc3BhdGNoZWQgbGFzdCB0aW1lXG4gKiBAcGFyYW0gbWV0YWRhdGEgdGhlIG1ldGFkYXRhIG9mIHRoZSBjb21wb25lbnRcbiAqIEByZXR1cm5zIGFycmF5IG9mIERhdGFTcGVjc0NvbnRleHRWYXJzIHRoYXQgYXJlIGNoYW5nZWQgYmV0d2VlbiB0aGUgdHdvIGRpc3BhdGNoZXNcbiAqL1xuZXhwb3J0IGNvbnN0IGNvbXBhcmVEYXRhU3BlY3NBbmRGaW5kRGlmZiA9IChcbiAgY3VycmVudDogRGF0YVNwZWNzQ29udGV4dFZhcnNbXSxcbiAgcHJldmlvdXM6IERhdGFTcGVjc0NvbnRleHRWYXJzW10sXG4gIG1ldGFkYXRhOiBDb21wb25lbnRNZXRhZGF0YSxcbik6IHN0cmluZ1tdID0+IHtcbiAgaWYgKCFwcmV2aW91cykge1xuICAgIHJldHVybiBbW10sIFtdXTtcbiAgfVxuICBsZXQgZGlmZmVyZW50RGF0YVNwZWNzID0gbmV3IEFycmF5KCk7XG4gIGxldCBkb05vdFJlcXVlc3REYXRhID0gbmV3IEFycmF5KCk7XG4gIE9iamVjdC5rZXlzKGN1cnJlbnQpLmZvckVhY2goKGN1cnJlbnREYXRhU3BlYykgPT4ge1xuICAgIGlmICghcHJldmlvdXNbY3VycmVudERhdGFTcGVjXSkge1xuICAgICAgZGlmZmVyZW50RGF0YVNwZWNzLnB1c2goY3VycmVudERhdGFTcGVjKTtcbiAgICB9IGVsc2UgaWYgKGlzRXF1YWwoY3VycmVudFtjdXJyZW50RGF0YVNwZWNdLCBwcmV2aW91c1tjdXJyZW50RGF0YVNwZWNdKSA9PT0gZmFsc2UpIHtcbiAgICAgIGlmIChcbiAgICAgICAgaWdub3JlQ29udGV4dFZhcnNPbmNlKHByZXZpb3VzLCBtZXRhZGF0YSwgY3VycmVudERhdGFTcGVjKSB8fFxuICAgICAgICBpZ25vcmVDb250ZXh0VmFyc0Fsd2F5cyhtZXRhZGF0YSwgY3VycmVudERhdGFTcGVjKVxuICAgICAgKSB7XG4gICAgICAgIGRvTm90UmVxdWVzdERhdGEucHVzaChjdXJyZW50RGF0YVNwZWMpO1xuICAgICAgfVxuICAgICAgZGlmZmVyZW50RGF0YVNwZWNzLnB1c2goY3VycmVudERhdGFTcGVjKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gW2RpZmZlcmVudERhdGFTcGVjcywgZG9Ob3RSZXF1ZXN0RGF0YV07XG59O1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gZmlsdGVycyBvdXQgdGhlIGRhdGFzcGVjcyB0aGF0IGRpZG4ndCBjaGFuZ2UgZnJvbSBjdXJyZW50IHZzLiBwcmV2aW91c1xuICogQW5kIHJldHVybiBhbiBhcnJheSBvZiBkYXRhU3BlY3MgdGhhdCBuZWVkcyB0byBzZW5kIHRvIGByZXF1ZXN0RGF0YWAgYW5kIGV2ZW50dWFsbHkgc2VuZCB0byByZXF1ZXN0RGF0YUFjdGlvblxuICogQHBhcmFtIGRhdGFTcGVjTmFtZXMgYXJyYXkgb2Ygc3RyaW5ncyBhcyBkYXRhc3BlYyBuYW1lc1xuICogQHBhcmFtIGRhdGFTcGVjT2JqZWN0cyBhcnJheSBvZiBhY3R1YWwgZGF0YXNwZWMgb2JqZWN0c1xuICogQHJldHVybnMgYXJyYXkgb2YgZGF0YVNwZWNPYmplY3RzXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDaGFuZ2VkRGF0YVNwZWNzID0gKFxuICBkYXRhU3BlY05hbWVzOiBzdHJpbmdbXSxcbiAgZGF0YVNwZWNPYmplY3RzOiBVaVNkbERhdGFTcGVjRGV0YWlsc1tdLFxuKTogVWlTZGxEYXRhU3BlY0RldGFpbHNbXSA9PiB7XG4gIHJldHVybiBkYXRhU3BlY05hbWVzXG4gICAgLm1hcCgobmFtZSkgPT4ge1xuICAgICAgcmV0dXJuIGRhdGFTcGVjT2JqZWN0cy5maW5kKChkYXRhc3BlYykgPT4ge1xuICAgICAgICByZXR1cm4gZGF0YXNwZWMuZGF0YVNwZWNGaWVsZE5hbWUgPT09IG5hbWU7XG4gICAgICB9KTtcbiAgICB9KVxuICAgIC5maWx0ZXIoKGVsZSkgPT4gZWxlKTsgLy8gVG8gcmVtb3ZlIGB1bmRlZmluZWRgIHJldHVybmVkIGZyb20gZmluZCBtZXRob2Rcbn07XG5cbi8qKlxuICogT3B0aW1pemVkIHZlcnNpb24gb2YgUmVkdXgncyB1c2VTZWxlY3Rvci5cbiAqXG4gKiBUaGlzIGltcGxlbWVudGF0aW9uIHVzZXMgdGhlIHN0YXRlVXBkYXRlcyBvYnNlcnZhYmxlIHRvIGxpbWl0IGhvdyBtdWNoIHRoZVxuICogc2VsZWN0b3IgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgYW5kIGVuc3VyZSBjb21wb25lbnRzIGRvbid0IGdldCByZS1yZW5kZXJlZFxuICogd2hlbiBubyBjaGFuZ2VzIGhhdmUgYmVlbiBkb25lIHRvIHRoZSBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0gc2VsZWN0b3IgVGhlIHNlbGVjdG9yIGZ1bmN0aW9uIHRoYXQgcmV0cmlldmVzIHN0YXRlXG4gKiBAcGFyYW0gZXF1YWxpdHlGbiBBIGZ1bmN0aW9uIHRvIGNvbXBhcmUgcHJldmlvdXMgc3RhdGUgdG8gbmV3IHN0YXRlXG4gKiBAcmV0dXJucyBUaGUgc2VsZWN0ZWQgc3RhdGVcbiAqIEBzZWUgc3RhdGVVcGRhdGVzIGluIHJlZHVjZXJSZWdpc3RyeS50c1xuICovXG5leHBvcnQgY29uc3QgdXNlU2VsZWN0ZWRTdGF0ZSA9IChcbiAgc2VsZWN0b3IsXG4gIGVxdWFsaXR5Rm4sXG4pOiBUeXBlZFVzZVNlbGVjdG9ySG9vazxNYXA8a2V5b2YgVWlTZGxSZWR1eFN0YXRlLCBVaVNkbFJlZHV4U3RhdGVba2V5b2YgVWlTZGxSZWR1eFN0YXRlXT4+ID0+IHtcbiAgaWYgKCFlcXVhbGl0eUZuKSB7XG4gICAgZXF1YWxpdHlGbiA9IHNoYWxsb3dFcXVhbDtcbiAgfVxuICAvKipcbiAgICogVXNpbmcgcmVmcyBpcyBpbXBvcnRhbnQgaGVyZSB0byBlbnN1cmUgd2UgZ2V0IG5ldyB2YWx1ZXMgb24gZXZlcnkgcmVuZGVyXG4gICAqIG90aGVyd2lzZSB2YWx1ZXMgbWlnaHQgbm90IGdldCB1cGRhdGVkIGJlY2F1c2Ugb2YgY2xvc3VyZXMuXG4gICAqL1xuICBjb25zdCBsYXRlc3RTZWxlY3RlZFN0YXRlID0gdXNlUmVmKCk7XG4gIGNvbnN0IGxhdGVzdFNlbGVjdG9yID0gdXNlUmVmKCk7XG4gIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTtcbiAgY29uc3QgWywgZm9yY2VSZW5kZXJdID0gdXNlUmVkdWNlcigocykgPT4gcyArIDEsIDApO1xuXG4gIC8vIEZvciBmaXJzdCBjYWxsIG9yIGEgcmUtcmVuZGVyLCBzeW5jaHJvbm91c2x5IHNlbGVjdCB0aGUgc3RhdGUgYW5kIHJldHVybi5cbiAgaWYgKHNlbGVjdG9yICE9PSBsYXRlc3RTZWxlY3Rvci5jdXJyZW50KSB7XG4gICAgbGF0ZXN0U2VsZWN0ZWRTdGF0ZS5jdXJyZW50ID0gc2VsZWN0b3Ioc3RvcmUuZ2V0U3RhdGUoKSk7XG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIGN1cnJlbnQgc2VsZWN0b3IgcmVmIChpbiBjYXNlIGl0IGNoYW5nZWQgb3V0c2lkZSBvdXIgY2xvc3VyZSlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsYXRlc3RTZWxlY3Rvci5jdXJyZW50ID0gc2VsZWN0b3I7XG4gIH0pO1xuXG4gIC8vIFN1YnNjcmliZSB0byBvdXIgc3RhdGVVcGRhdGVzIG9ic2VydmFibGUgYW5kIGZvcmNlIHJlbmRlciBhcyBuZWVkZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBzdGF0ZVVwZGF0ZXMuc3Vic2NyaWJlKChzdGF0ZSkgPT4ge1xuICAgICAgY29uc3QgbmV3U2VsZWN0ZWRTdGF0ZSA9IGxhdGVzdFNlbGVjdG9yLmN1cnJlbnQoc3RhdGUpO1xuXG4gICAgICBpZiAoZXF1YWxpdHlGbihuZXdTZWxlY3RlZFN0YXRlLCBsYXRlc3RTZWxlY3RlZFN0YXRlLmN1cnJlbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGF0ZXN0U2VsZWN0ZWRTdGF0ZS5jdXJyZW50ID0gbmV3U2VsZWN0ZWRTdGF0ZTtcblxuICAgICAgZm9yY2VSZW5kZXIoe30pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIGxhdGVzdFNlbGVjdGVkU3RhdGUuY3VycmVudDtcbn07XG5cbi8qKlxuICogVHlwZWQgdmVyc2lvbiBvZiB1c2VTZWxlY3Rvci5cbiAqXG4gKiBVc2VkIGFzIGFuIGFic3RyYWN0aW9uIGxheWVyIHRvIHByb3ZpZGUgYSB1c2VTZWxlY3RvciBpbXBsZW1lbnRhdGlvbiB0aGF0IGlzIG9wdGltaXplZCBmb3Igb3VyIFJlZHV4IHVzZSBjYXNlcy5cbiAqXG4gKiBAc2VlIHVzZVNlbGVjdGVkU3RhdGVcbiAqIEBzZWUgc3RhdGVVcGRhdGVzIGZyb20gcmVkdWNlclJlZ2lzdHJ5XG4gKi9cbmNvbnN0IHVzZVR5cGVkU2VsZWN0b3I6IFR5cGVkVXNlU2VsZWN0b3JIb29rPE1hcDxrZXlvZiBVaVNkbFJlZHV4U3RhdGUsIFVpU2RsUmVkdXhTdGF0ZVtrZXlvZiBVaVNkbFJlZHV4U3RhdGVdPj4gPVxuICB1c2VTZWxlY3RlZFN0YXRlO1xuXG5jb25zdCBhZGRSZXNvbHZlZENvbnRleHRWYXJzID0gKFxuICBjb250ZXh0VmFyczogQ29udGV4dFZhcnMsXG4gIHJlc3VsdDogVWlEYXRhQW5kU3RhdHVzZXNNYXBzLFxuICBjb250ZXh0OiB7IG1ldGFkYXRhSWQ6IHN0cmluZzsgc3RhdGU6IFVpU2RsUmVkdXhTdGF0ZSB9LFxuICBkYXRhU3BlY0ZpZWxkTmFtZTogc3RyaW5nLFxuKTogVWlEYXRhQW5kU3RhdHVzZXNNYXBzID0+IHtcbiAgZWFjaChjb250ZXh0VmFycywgKHBhcmFtLCBjb250ZXh0VmFyKSA9PiB7XG4gICAgY29uc3QgY3VycmVudFBhcmFtVmFsdWUgPSBleHRyYWN0UGFyYW1WYWx1ZShwYXJhbSwgY29udGV4dCk7XG5cbiAgICByZXN1bHQuZGF0YVNwZWNzQ29uZmlndXJlZENvbnRleHRWYXJzW2RhdGFTcGVjRmllbGROYW1lXVtjb250ZXh0VmFyXSA9IHBhcmFtO1xuICAgIHJlc3VsdC5kYXRhU3BlY3NSZXNvbHZlZENvbnRleHRWYXJzW2RhdGFTcGVjRmllbGROYW1lXVtjb250ZXh0VmFyXSA9IGN1cnJlbnRQYXJhbVZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VEYXRhID0gKFxuICBjb21wb25lbnRJZDogc3RyaW5nLFxuICBkYXRhU3BlY3M6IFVpU2RsRGF0YVNwZWNEZXRhaWxzW10sXG4gIG1ldGFkYXRhPzogQ29tcG9uZW50TWV0YWRhdGEsXG4gIGRhdGFNZXJnZUZ1bmN0aW9uPzogRnVuY3Rpb24sXG4pOiBbVWlEYXRhRGF0YU1hcCwgVWlEYXRhU3RhdHVzTWFwXSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcblxuICAvKlxuICAgKiBJZiBhbnkgb2YgYSBjb21wb25lbnQncyBkYXRhU3BlY3MgYXJlIGNvbmZpZ3VyZWQgd2l0aCBjb250ZXh0VmFycyxcbiAgICogd2UgY2hlY2sgdG8gc2VlIGlmIGFueSBvZiB0aGUgdmFyaWFibGUncyByZXNvbHZlZCB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLlxuICAgKiBJZiBhIGNoYW5nZSBpcyBkZXRlY3RlZCwgdGhlIGNvbXBvbmVudCdzIGRhdGEgc291cmNlcyBhcmUgcmVmcmVzaGVkLlxuICAgKi9cbiAgY29uc3QgeyBkYXRhU3BlY3NDb25maWd1cmVkQ29udGV4dFZhcnMsIGRhdGFTcGVjc1Jlc29sdmVkQ29udGV4dFZhcnMsIGFsbERhdGFTcGVjcyB9ID0gdXNlVHlwZWRTZWxlY3RvcihcbiAgICAoc3RhdGUpID0+IHtcbiAgICAgIHZhciByZXN1bHQ6IERhdGFTcGVjc0NvbmZpZ3VyZWRBbmRSZXNvbHZlZENvbnRleHRWYXJzTWFwID0ge1xuICAgICAgICBkYXRhU3BlY3NDb25maWd1cmVkQ29udGV4dFZhcnM6IHt9LFxuICAgICAgICBkYXRhU3BlY3NSZXNvbHZlZENvbnRleHRWYXJzOiB7fSxcbiAgICAgICAgYWxsRGF0YVNwZWNzOiBbXSxcbiAgICAgIH07XG4gICAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICBtZXRhZGF0YUlkOiBjb21wb25lbnRJZCxcbiAgICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgfTtcbiAgICAgIGRhdGFTcGVjcy5mb3JFYWNoKChkYXRhU3BlYykgPT4ge1xuICAgICAgICBjb25zdCBkYXRhU3BlY0ZpZWxkTmFtZSA9IGRhdGFTcGVjLmRhdGFTcGVjRmllbGROYW1lO1xuICAgICAgICByZXN1bHQuZGF0YVNwZWNzQ29uZmlndXJlZENvbnRleHRWYXJzW2RhdGFTcGVjRmllbGROYW1lXSA9IHt9O1xuICAgICAgICByZXN1bHQuZGF0YVNwZWNzUmVzb2x2ZWRDb250ZXh0VmFyc1tkYXRhU3BlY0ZpZWxkTmFtZV0gPSB7fTtcblxuICAgICAgICBjb25zdCBkYXRhU3BlY0NvbmZpZ3VyYXRpb24gPSBnZXQobWV0YWRhdGEsIGRhdGFTcGVjRmllbGROYW1lKTtcbiAgICAgICAgcmVzdWx0LmFsbERhdGFTcGVjcy5wdXNoKGRhdGFTcGVjQ29uZmlndXJhdGlvbik7XG5cbiAgICAgICAgY29uc3QgY29udGV4dFZhcnMgPSBkYXRhU3BlY0NvbmZpZ3VyYXRpb24/LmNvbnRleHRWYXJzO1xuICAgICAgICByZXN1bHQgPSBhZGRSZXNvbHZlZENvbnRleHRWYXJzKGNvbnRleHRWYXJzLCByZXN1bHQsIGNvbnRleHQsIGRhdGFTcGVjRmllbGROYW1lKTtcblxuICAgICAgICAvKlxuICAgICAgICAgKiBJZiB0aGUgY29udGV4dFZhcnMgaXMgY29uZmlndXJlZCBpbiBjb21wb25lbnQncyBkYXRhU3BlYydzIHRvUGFydGlhbGx5QXBwbGllZEFjdGlvbnMsXG4gICAgICAgICAqIGNoZWNrIGlmIGFueSByZXNvbHZlZCB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgZGF0YVNwZWNDb25maWcgPSBjbG9uZURlZXAoZ2V0KG1ldGFkYXRhLCBkYXRhU3BlY0ZpZWxkTmFtZSkpO1xuICAgICAgICBjb25zdCBkYXRhU3BlY1R5cGUgPSBkYXRhU3BlYy5kYXRhU3BlY1R5cGU7XG4gICAgICAgIGlmICghIWRhdGFTcGVjQ29uZmlnICYmICEhZGF0YVNwZWNUeXBlKSB7XG4gICAgICAgICAgZm9yRWFjaFBhcnRpYWxseUFwcGxpZWRBY3Rpb25JbmZvKFxuICAgICAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgICAgICBkYXRhU3BlY0NvbmZpZyxcbiAgICAgICAgICAgIGNvbnRleHRWYXJzLFxuICAgICAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgICAgICBkYXRhU3BlY1R5cGUsXG4gICAgICAgICAgICBkYXRhU3BlY0ZpZWxkTmFtZSxcbiAgICAgICAgICAgIChwYXJ0aWFsbHlBcHBsaWVkQWN0aW9uSW5mbykgPT4ge1xuICAgICAgICAgICAgICByZXN1bHQgPSBhZGRSZXNvbHZlZENvbnRleHRWYXJzKFxuICAgICAgICAgICAgICAgIHBhcnRpYWxseUFwcGxpZWRBY3Rpb25JbmZvLmNvbnRleHRWYXJzLFxuICAgICAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgIGRhdGFTcGVjRmllbGROYW1lLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICAocHJldiwgbmV4dCkgPT4ge1xuICAgICAgcmV0dXJuIGlzRXF1YWwocHJldiwgbmV4dCk7XG4gICAgfSxcbiAgKTtcblxuICAvKlxuICAgKiBVcG9uIHJlY2VpdmluZyB0aGUgY29tcG9uZW50J3MgbWV0YWRhdGEgb3IgZGV0ZWN0aW5nIGEgY2hhbmdlIGluIHRoZSBjb21wb25lbnQnc1xuICAgKiByZXNvbHZlZCBjb250ZXh0VmFycywgaW5pdGlhbGl6ZSBvciByZWZyZXNoIHRoaXMgY29tcG9uZW50J3MgZGF0YSBzb3VyY2VzLlxuICAgKi9cbiAgY29uc3QgZGF0YVNwZWNzUmVzb2x2ZWRDb250ZXh0VmFyc1JlZiA9IHVzZVJlZihkYXRhU3BlY3NSZXNvbHZlZENvbnRleHRWYXJzKTtcbiAgbGV0IGNoYW5nZWREYXRhU3BlY3M7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBJbml0aWFsIGxvYWQuIFdoZW4gdGhlIG1ldGFkYXRhIGlzIGxvYWRlZCwgcmVxdWVzdCB0aGUgZGF0YS5cbiAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgIHJlcXVlc3REYXRhKGNvbXBvbmVudElkLCBkYXRhU3BlY3MsIGRhdGFTcGVjc0NvbmZpZ3VyZWRDb250ZXh0VmFycywgbWV0YWRhdGEsIGNoYW5nZWREYXRhU3BlY3MsIGRpc3BhdGNoKTtcbiAgICB9XG4gIH0sIFshIW1ldGFkYXRhXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBDb250ZXh0IHZhcnMgaGF2ZSBjaGFuZ2VkOyBvbmx5IHVwZGF0ZSB0aGUgY2hhbmdlZCBkYXRhU3BlYy5cbiAgICBpZiAoZGF0YVNwZWNzUmVzb2x2ZWRDb250ZXh0VmFyc1JlZi5jdXJyZW50KSB7XG4gICAgICBjb25zdCBbY2hhbmdlZERhdGFTcGVjcywgZG9Ob3RSZXF1ZXN0RGF0YV0gPSBjb21wYXJlRGF0YVNwZWNzQW5kRmluZERpZmYoXG4gICAgICAgIGRhdGFTcGVjc1Jlc29sdmVkQ29udGV4dFZhcnMsXG4gICAgICAgIGRhdGFTcGVjc1Jlc29sdmVkQ29udGV4dFZhcnNSZWYuY3VycmVudCxcbiAgICAgICAgbWV0YWRhdGEsXG4gICAgICApO1xuICAgICAgY29uc3QgZGF0YVNwZWNzVG9VcGRhdGUgPSBnZXRDaGFuZ2VkRGF0YVNwZWNzKGNoYW5nZWREYXRhU3BlY3MsIGRhdGFTcGVjcyk7XG4gICAgICByZXF1ZXN0RGF0YShcbiAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgIGRhdGFTcGVjc1RvVXBkYXRlLFxuICAgICAgICBkYXRhU3BlY3NDb25maWd1cmVkQ29udGV4dFZhcnMsXG4gICAgICAgIG1ldGFkYXRhLFxuICAgICAgICBjaGFuZ2VkRGF0YVNwZWNzLFxuICAgICAgICBkaXNwYXRjaCxcbiAgICAgICAgZG9Ob3RSZXF1ZXN0RGF0YSxcbiAgICAgICk7XG4gICAgfVxuICAgIGRhdGFTcGVjc1Jlc29sdmVkQ29udGV4dFZhcnNSZWYuY3VycmVudCA9IGRhdGFTcGVjc1Jlc29sdmVkQ29udGV4dFZhcnM7XG4gIH0sIFtKU09OLnN0cmluZ2lmeShkYXRhU3BlY3NSZXNvbHZlZENvbnRleHRWYXJzKV0pO1xuXG4gIGNvbnN0IHsgZGF0YSwgc3RhdHVzZXMgfSA9IHVzZVR5cGVkU2VsZWN0b3IoXG4gICAgKHN0YXRlKTogVWlEYXRhQW5kU3RhdHVzZXNNYXBzID0+IHtcbiAgICAgIGxldCByZXN1bHQ6IFVpRGF0YUFuZFN0YXR1c2VzTWFwcyA9IHsgZGF0YToge30sIHN0YXR1c2VzOiB7fSB9O1xuICAgICAgbGV0IGhhc1N1YkRhdGFTb3VyY2UgPSBmYWxzZTtcblxuICAgICAgaWYgKCFtZXRhZGF0YSkgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGRhdGFTb3VyY2VBcnJheSBoYXMgc2hhcmVkIGRhdGFEZXN0aW5hdGlvbkZpZWxkTmFtZSBhbmQgcmV0dXJuIGFycmF5IG9mIHNoYXJlZCBuYW1lc1xuICAgICAgY29uc3QgZ2V0U2hhcmVkTmFtZXNGcm9tRGF0YVNvdXJjZUFycmF5ID0gKGRhdGFTb3VyY2VBcnJheTogQXJyYXk8RGF0YVNvdXJjZT4pOiBBcnJheTxzdHJpbmc+ID0+IHtcbiAgICAgICAgY29uc3Qgc2V0VmFsdWVzID0gbmV3IFNldCgpO1xuICAgICAgICBjb25zdCBzaGFyZWROYW1lcyA9IFtdIGFzIEFycmF5PHN0cmluZz47XG4gICAgICAgIGRhdGFTb3VyY2VBcnJheS5mb3JFYWNoKChkYXRhU291cmNlKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGF0YURlc3RpbmF0aW9uRmllbGROYW1lID0gZGF0YVNvdXJjZS5kYXRhRGVzdGluYXRpb25GaWVsZE5hbWU7XG4gICAgICAgICAgaWYgKHNldFZhbHVlcy5oYXMoZGF0YURlc3RpbmF0aW9uRmllbGROYW1lKSkge1xuICAgICAgICAgICAgc2hhcmVkTmFtZXMucHVzaChkYXRhRGVzdGluYXRpb25GaWVsZE5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRWYWx1ZXMuYWRkKGRhdGFEZXN0aW5hdGlvbkZpZWxkTmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2hhcmVkTmFtZXM7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBkYXRhU291cmNlTWFwID1cbiAgICAgICAgZ2V0RGF0YVNvdXJjZU1hcChjb21wb25lbnRJZCwgZGF0YVNwZWNzLCBkYXRhU3BlY3NDb25maWd1cmVkQ29udGV4dFZhcnMsIG1ldGFkYXRhIHx8IHt9KSB8fCB7fTtcbiAgICAgIC8qXG4gICAgICAgKiBJZiB0aGVyZSBhcmUgbW9yZSB0aGFuIG9uZSBkYXRhU291cmNlIGFuZCB0aGV5IHNoYXJlIHRoZSBzYW1lIGRlc3RpbmF0aW9uIG5hbWVcbiAgICAgICAqIHRoYXQgbWVhbnMgdGhlcmUgYXJlIHN1YkRhdGFTb3VyY2VzXG4gICAgICAgKiBXZSBuZWVkIHRvIGNyZWF0ZSBhIG1hcCBpbnNpZGUgcmVzdWx0LmRhdGEgdG8gYWNjb21tb2RhdGUgc3ViRGF0YVNvdXJjZXNcbiAgICAgICAqL1xuICAgICAgY29uc3QgbmFtZXNGb3JTdWJEYXRhU291cmNlID1cbiAgICAgICAgT2JqZWN0LmtleXMoZGF0YVNvdXJjZU1hcCkubGVuZ3RoID4gMSA/IGdldFNoYXJlZE5hbWVzRnJvbURhdGFTb3VyY2VBcnJheShPYmplY3QudmFsdWVzKGRhdGFTb3VyY2VNYXApKSA6IFtdO1xuICAgICAgaWYgKG5hbWVzRm9yU3ViRGF0YVNvdXJjZT8ubGVuZ3RoID4gMCkge1xuICAgICAgICByZXN1bHQuZGF0YSA9IHt9O1xuICAgICAgICBoYXNTdWJEYXRhU291cmNlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IE9iamVjdC5rZXlzKGRhdGFTb3VyY2VNYXApLnJlZHVjZSgocmVzdWx0LCBkYXRhU291cmNlSWQpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YURlc3RpbmF0aW9uRmllbGROYW1lID0gZGF0YVNvdXJjZU1hcFtkYXRhU291cmNlSWRdLmRhdGFEZXN0aW5hdGlvbkZpZWxkTmFtZTtcbiAgICAgICAgY29uc3QgZGF0YVNwZWNGaWVsZE5hbWUgPSBkYXRhU291cmNlTWFwW2RhdGFTb3VyY2VJZF0uZGF0YVNwZWNGaWVsZE5hbWU7XG4gICAgICAgIGNvbnN0IGRzTWV0YWRhdGEgPSBzdGF0ZS5nZXRJbihbJ21ldGFkYXRhJywgJ2RhdGFTb3VyY2VzJywgJ2J5SWQnLCBkYXRhU291cmNlSWRdKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHN0YXRlLmdldEluKFsnZW50aXRpZXMnLCAnbW9kaWZpZWQnLCBkYXRhU291cmNlSWRdKTtcbiAgICAgICAgLypcbiAgICAgICAgICogSWYgd2UgaGF2ZSBzdWJEYXRhU291cmNlcywgd2Ugd2lsbCBwdXQgYSBtYXAgaW50byByZXN1bHQuZGF0YVtkYXRhRGVzdGluYXRpb25GaWVsZE5hbWVdXG4gICAgICAgICAqIGFuZCB0aGUgbWFwIGtleSB3aWxsIGJlIHN1YkRhdGFTb3VyY2VzIG5hbWUsIHZhbHVlIHdpbGwgYmUgaXRzIHZhbHVlXG4gICAgICAgICAqIEZvciBleGFtcGxlLCBtZXRyaWNUaWxlIGNhbiBoYXZlIHVwIHRvIDMgc3ViRGF0YVNvdXJjZXMsIHRoZXJlZm9yZSB0aGUgcmVzdWx0IG9iamVjdCBzaG91bGQgbG9vayBsaWtlOlxuICAgICAgICAgKiByZXN1bHQ6IHtcbiAgICAgICAgICogIGRhdGE6IHtcbiAgICAgICAgICogICAgZGF0YUNvbGxlY3Rpb246IHtcbiAgICAgICAgICogICAgICBoaXN0b3JpY1NwYXJrbGluZToge30sIC8vIHNvbWUgZGF0YVxuICAgICAgICAgKiAgICAgIGZvcmVjYXN0U3BhcmtsaW5lOiB7fSwgLy8gc29tZSBkYXRhXG4gICAgICAgICAqICAgICAgcGxhblNwYXJrbGluZToge30gLy9zb21lIGRhdGFcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICogICB9XG4gICAgICAgICAqIH1cbiAgICAgICAgICovXG4gICAgICAgIGlmIChoYXNTdWJEYXRhU291cmNlICYmIG5hbWVzRm9yU3ViRGF0YVNvdXJjZT8uaW5jbHVkZXMoZGF0YURlc3RpbmF0aW9uRmllbGROYW1lKSkge1xuICAgICAgICAgIGNvbnN0IGFjdGlvbklkID0gZGF0YVNvdXJjZU1hcFtkYXRhU291cmNlSWRdLmFjdGlvbklkO1xuICAgICAgICAgIC8vIElmIG5vIGFjdGlvbklkLCBpZ25vcmUgdGhpcyBlbnRyeVxuICAgICAgICAgIGlmICghYWN0aW9uSWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGRhdGFNYXBwaW5nRGF0YVNvdXJjZSA9IGFjdGlvbklkO1xuICAgICAgICAgIGNvbnN0IHBhdGggPSBbZGF0YURlc3RpbmF0aW9uRmllbGROYW1lLCBkYXRhTWFwcGluZ0RhdGFTb3VyY2VdO1xuICAgICAgICAgIHNldChtZXRhZGF0YSwgcGF0aCwgZGF0YSk7XG4gICAgICAgICAgaWYgKCFyZXN1bHQuZGF0YVtkYXRhRGVzdGluYXRpb25GaWVsZE5hbWVdKSB7XG4gICAgICAgICAgICByZXN1bHQuZGF0YVtkYXRhRGVzdGluYXRpb25GaWVsZE5hbWVdID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5kYXRhW2RhdGFEZXN0aW5hdGlvbkZpZWxkTmFtZV1bZGF0YU1hcHBpbmdEYXRhU291cmNlXSA9IG5vcm1hbGl6ZUltbXV0YWJsZShkYXRhKTtcblxuICAgICAgICAgIC8vIElmIGl0cyBub3Qgc3ViRGF0YVNvdXJjZSwgd2Ugd2lsbCBkaXJlY3RseSBzZXQgdGhlIGRhdGEgdG8gcmVzdWx0LmRhdGFbZGF0YURlc3RpbmF0aW9uRmllbGROYW1lXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldChtZXRhZGF0YSwgZGF0YURlc3RpbmF0aW9uRmllbGROYW1lLCBkYXRhKTtcbiAgICAgICAgICByZXN1bHQuZGF0YVtkYXRhRGVzdGluYXRpb25GaWVsZE5hbWVdID0gbm9ybWFsaXplSW1tdXRhYmxlKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5zdGF0dXNlc1tkYXRhRGVzdGluYXRpb25GaWVsZE5hbWVdID0gZHNNZXRhZGF0YT8uc3RhdHVzIHx8ICdJTklUSUFMJztcblxuICAgICAgICBpZiAoZGF0YU1lcmdlRnVuY3Rpb24gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVzdWx0LmRhdGEgPSBtZXJnZShcbiAgICAgICAgICAgIHJlc3VsdC5kYXRhLFxuICAgICAgICAgICAgZGF0YU1lcmdlRnVuY3Rpb24oY29tcG9uZW50SWQsIGRhdGFTcGVjRmllbGROYW1lLCBkYXRhRGVzdGluYXRpb25GaWVsZE5hbWUsIHJlc3VsdC5kYXRhLCBzdGF0ZSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LCByZXN1bHQpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgKHByZXYsIG5leHQpID0+IHtcbiAgICAgIC8qKlxuICAgICAgICogT3VyIG93biBlcXVhbGl0eSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiBkYXRhIGFuZCBzdGF0dXMgYXJlIHRoZSBzYW1lLlxuICAgICAgICpcbiAgICAgICAqIFdlIG5lZWQgdGhpcyBiZWNhdXNlIHRoZSByZXN1bHQgb2JqZWN0IGFsd2F5cyBoYXMgbmV3IGRhdGEgYW5kIHN0YXR1c2VzIG9iamVjdHNcbiAgICAgICAqIGJ1dCB0aGUgcHJvcGVydGllcyBvZiB0aGVtIGRvbid0IGNoYW5nZSBhcyBtdWNoIG92ZXIgdGltZS5cbiAgICAgICAqXG4gICAgICAgKiBUT0RPOiBVSS00OTAwIFJlbW92ZSB0aGUgZGVlcCBlcXVhbC5cbiAgICAgICAqL1xuICAgICAgcmV0dXJuIGlzRXF1YWwocHJldi5kYXRhLCBuZXh0LmRhdGEpICYmIHNoYWxsb3dFcXVhbChwcmV2LnN0YXR1c2VzLCBuZXh0LnN0YXR1c2VzKTtcbiAgICB9LFxuICApO1xuXG4gIHJldHVybiBbZGF0YSwgc3RhdHVzZXNdO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRWYWx1ZXMgPSB7fTsiXSwibmFtZXMiOlsidXNlUmVmIiwidXNlRWZmZWN0IiwidXNlUmVkdWNlciIsInNoYWxsb3dFcXVhbCIsInVzZVN0b3JlIiwiSXRlcmFibGUiLCJlYWNoIiwiZ2V0IiwiY2xvbmVEZWVwIiwic2V0IiwiaXNFbXB0eSIsImlzRXF1YWwiLCJleHRlbmQiLCJpc1VuZGVmaW5lZCIsIm1lcmdlIiwiZXh0cmFjdFBhcmFtVmFsdWUiLCJnZXRDb2xsZWN0aW9uRGF0YVNvdXJjZUlkIiwibWVyZ2VBcmd1bWVudHNBY3Rpb24iLCJyZXF1ZXN0RGF0YUFjdGlvbiIsInVwZGF0ZURhdGFDb25maWdBY3Rpb24iLCJ3aXRoTmFtZSIsInVzZURpc3BhdGNoIiwic3RhdGVVcGRhdGVzIiwibm9ybWFsaXplSW1tdXRhYmxlIiwibWF5YmVJbW11dGFibGUiLCJfZ2V0X18iLCJpc0l0ZXJhYmxlIiwidG9KUyIsImZvckVhY2hQYXJ0aWFsbHlBcHBsaWVkQWN0aW9uSW5mbyIsImNvbXBvbmVudElkIiwiZGF0YVNwZWMiLCJjb250ZXh0VmFycyIsImNvbmZpZyIsImRhdGFTcGVjVHlwZSIsImRhdGFTcGVjRmllbGROYW1lIiwiaXRlcmF0b3IiLCJfcGFydGlhbGx5QXBwbGllZEFjdGkiLCJfcGFydGlhbGx5QXBwbGllZEFjdGkyIiwicGFydGlhbGx5QXBwbGllZEFjdGlvbkluZm9zIiwiYWR2YW5jZWREYXRhU3BlYyIsImhhc093blByb3BlcnR5IiwidG9QYXJ0aWFsbHlBcHBsaWVkQWR2YW5jZWRBY3Rpb25zIiwiZXJyb3IiLCJ0b1BhcnRpYWxseUFwcGxpZWRBY3Rpb25zIiwicmVxdWlyZUFjdGlvbklkIiwibGVuZ3RoIiwiZm9yRWFjaCIsInBhcnRpYWxseUFwcGxpZWRBY3Rpb25JbmZvIiwiYWN0aW9uSWQiLCJjYWxsIiwiZ2V0RGF0YVNvdXJjZU1hcCIsImRhdGFTcGVjcyIsImRhdGFTcGVjc0NvbmZpZ3VyZWRDb250ZXh0VmFycyIsInJlZHVjZSIsImRhdGFTb3VyY2VNYXAiLCJkYXRhRGVzdGluYXRpb25GaWVsZE5hbWUiLCJwYXJ0aWFsbHlBcHBsaWVkQWN0aW9uSWQiLCJkYXRhU291cmNlSWQiLCJzaG91bGRSZXF1ZXN0RGF0YU9uRmlyc3RSZW5kZXIiLCJjaGFuZ2VkRGF0YVNwZWNzIiwiX2RhdGFTcGVjJGRpc2FibGVEYXRhIiwiX2RhdGFTcGVjVHlwZSRkZWZhdWx0IiwiZGlzYWJsZURhdGFSZXF1ZXN0T25GaXJzdFJlbmRlciIsImRlZmF1bHRWYWx1ZXMiLCJyZXF1ZXN0RGF0YSIsImRpc3BhdGNoIiwiZG9Ob3RSZXF1ZXN0RGF0YSIsIl9kYXRhU3BlY1R5cGUkZGVmYXVsdDIiLCJfZGF0YVNwZWNUeXBlJGRlZmF1bHQzIiwicmVxdWVzdE9uRmlyc3RSZW5kZXIiLCJwYXJ0aWFsbHlBcHBsaWVkQWN0aW9uIiwidHVubmVsQ29uZmlndXJhdGlvbiIsIm5ld0NvbmZpZyIsImRhdGFUcmFuc2Zvcm1zIiwiZGF0YVNwZWNEZXBlbmRlbmNlIiwiYXJncyIsInVuZGVmaW5lZCIsInR5cGVOYW1lIiwiYWN0aW9uTmFtZSIsImluY2x1ZGVzIiwiX2RhdGFTcGVjJGRhdGFUcmFuc2ZvIiwiX2RhdGFTcGVjVHlwZSRkZWZhdWx0NCIsImFjdGlvblRyYW5zZm9ybXMiLCJpZ25vcmVDb250ZXh0VmFyc09uY2UiLCJtZXRhZGF0YSIsImN1cnJlbnREYXRhU3BlYyIsIl9tZXRhZGF0YSRjdXJyZW50RGF0YSIsImlnbm9yZUZpcnN0Q29udGV4dFZhclJlc29sdXRpb24iLCJpZ25vcmVDb250ZXh0VmFyc0Fsd2F5cyIsIl9tZXRhZGF0YSRjdXJyZW50RGF0YTIiLCJpZ25vcmVBbGxDb250ZXh0VmFyUmVzb2x1dGlvbiIsImNvbXBhcmVEYXRhU3BlY3NBbmRGaW5kRGlmZiIsImN1cnJlbnQiLCJwcmV2aW91cyIsImRpZmZlcmVudERhdGFTcGVjcyIsIkFycmF5IiwiT2JqZWN0Iiwia2V5cyIsInB1c2giLCJnZXRDaGFuZ2VkRGF0YVNwZWNzIiwiZGF0YVNwZWNOYW1lcyIsImRhdGFTcGVjT2JqZWN0cyIsIm1hcCIsIm5hbWUiLCJmaW5kIiwiZGF0YXNwZWMiLCJmaWx0ZXIiLCJlbGUiLCJ1c2VTZWxlY3RlZFN0YXRlIiwic2VsZWN0b3IiLCJlcXVhbGl0eUZuIiwibGF0ZXN0U2VsZWN0ZWRTdGF0ZSIsImxhdGVzdFNlbGVjdG9yIiwic3RvcmUiLCJmb3JjZVJlbmRlciIsInMiLCJnZXRTdGF0ZSIsInN1YnNjcmlwdGlvbiIsInN1YnNjcmliZSIsInN0YXRlIiwibmV3U2VsZWN0ZWRTdGF0ZSIsInVuc3Vic2NyaWJlIiwidXNlVHlwZWRTZWxlY3RvciIsImFkZFJlc29sdmVkQ29udGV4dFZhcnMiLCJyZXN1bHQiLCJjb250ZXh0IiwicGFyYW0iLCJjb250ZXh0VmFyIiwiY3VycmVudFBhcmFtVmFsdWUiLCJkYXRhU3BlY3NSZXNvbHZlZENvbnRleHRWYXJzIiwidXNlRGF0YSIsImRhdGFNZXJnZUZ1bmN0aW9uIiwiYWxsRGF0YVNwZWNzIiwibWV0YWRhdGFJZCIsImRhdGFTcGVjQ29uZmlndXJhdGlvbiIsImRhdGFTcGVjQ29uZmlnIiwicHJldiIsIm5leHQiLCJkYXRhU3BlY3NSZXNvbHZlZENvbnRleHRWYXJzUmVmIiwiZGF0YVNwZWNzVG9VcGRhdGUiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInN0YXR1c2VzIiwiaGFzU3ViRGF0YVNvdXJjZSIsImdldFNoYXJlZE5hbWVzRnJvbURhdGFTb3VyY2VBcnJheSIsImRhdGFTb3VyY2VBcnJheSIsInNldFZhbHVlcyIsIlNldCIsInNoYXJlZE5hbWVzIiwiZGF0YVNvdXJjZSIsImhhcyIsImFkZCIsIm5hbWVzRm9yU3ViRGF0YVNvdXJjZSIsInZhbHVlcyIsImRzTWV0YWRhdGEiLCJnZXRJbiIsImRhdGFNYXBwaW5nRGF0YVNvdXJjZSIsInBhdGgiLCJzdGF0dXMiLCJfZ2V0R2xvYmFsT2JqZWN0IiwiZ2xvYmFsIiwiZSIsIndpbmRvdyIsIl9SZXdpcmVNb2R1bGVJZF9fIiwiX2dldFJld2lyZU1vZHVsZUlkX18iLCJnbG9iYWxWYXJpYWJsZSIsIl9fJCRHTE9CQUxfUkVXSVJFX05FWFRfTU9EVUxFX0lEX18iLCJfZ2V0UmV3aXJlUmVnaXN0cnlfXyIsInRoZUdsb2JhbFZhcmlhYmxlIiwiX18kJEdMT0JBTF9SRVdJUkVfUkVHSVNUUllfXyIsImNyZWF0ZSIsIl9nZXRSZXdpcmVFeHBvcnRzUmVnaXN0cnlfXyIsIl9fJCRHTE9CQUxfUkVXSVJFX0VYUE9SVFNfUkVHSVNUUllfXyIsIl9zeW5jX2ludGVybmFsX3N0YXRlX3dpdGhfZXhwb3J0c19fIiwiX2V4cG9ydHNfdG9fcmVzZXRfXyIsIk1hcCIsIl9yZWNvcmRfZXhwb3J0X3RvX3Jlc2V0X18iLCJ2YXJpYWJsZU5hbWUiLCJ2YWx1ZSIsInByb3RvdHlwZSIsImV4cG9ydHMiLCJfcmVzdG9yZV9leHBvcnRzX18iLCJlbnRyaWVzIiwiY2xlYXIiLCJfbWF5YmVfdXBkYXRlX2V4cG9ydF9fIiwiX2dldFJld2lyZWREYXRhX18iLCJtb2R1bGVJZCIsInJlZ2lzdHJ5IiwicmV3aXJlRGF0YSIsImV4cG9ydHNSZWdpc3RyeSIsInJlZ2lzdGVyUmVzZXRBbGwiLCJyZXN0b3JlRnVuYyIsIklOVEVOVElPTkFMX1VOREVGSU5FRCIsIl9SZXdpcmVBUElfXyIsImFkZFByb3BlcnR5VG9BUElPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJfc2V0X18iLCJfcmVzZXRfXyIsIl93aXRoX18iLCJfZ2V0X29yaWdpbmFsX18iLCJfYXNzaWduX18iLCJfc2V0X29yaWdpbmFsX18iLCJfdmFsdWUiLCJfdXBkYXRlX29wZXJhdGlvbl9fIiwib3BlcmF0aW9uIiwicHJlZml4Iiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsImRlbGV0ZSIsIm9iamVjdCIsInJld2lyZWRWYXJpYWJsZU5hbWVzIiwicHJldmlvdXNWYWx1ZXMiLCJyZXNldCIsImNhbGxiYWNrIiwidGhlbiIsImNhdGNoIiwiX19nZXRfXyIsIl9fR2V0RGVwZW5kZW5jeV9fIiwiX19SZXdpcmVfXyIsIl9fc2V0X18iLCJfX1Jlc2V0RGVwZW5kZW5jeV9fIiwiX19SZXdpcmVBUElfXyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@c3/ui/UiSdlUseData.ts_uiInfrastructure\n");

/***/ })

}]);